import{r as k,R as pm,g as wh,u as Vl,j as v,M as gm,L as Xu,C as ec,B as tc,U as mm,a as vm,S as ym,V as Mo,b as _h,Z as wm,c as Ea,d as _m,e as Sh,f as xa,X as kh,T as bh,h as Sm,i as rc,A as km,k as bm,l as Em}from"./ai-studio-Dqe0xBOf.js";var Eh={exports:{}},et={},xh={exports:{}},Th={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,T){var j=b.length;b.push(T);e:for(;0<j;){var N=j-1>>>1,A=b[N];if(0<s(A,T))b[N]=T,b[j]=A,j=N;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var T=b[0],j=b.pop();if(j!==T){b[0]=j;e:for(var N=0,A=b.length,L=A>>>1;N<L;){var q=2*(N+1)-1,gr=b[q],dt=q+1,Ot=b[dt];if(0>s(gr,j))dt<A&&0>s(Ot,gr)?(b[N]=Ot,b[dt]=j,N=dt):(b[N]=gr,b[q]=j,N=q);else if(dt<A&&0>s(Ot,j))b[N]=Ot,b[dt]=j,N=dt;else break e}}return T}function s(b,T){var j=b.sortIndex-T.sortIndex;return j!==0?j:b.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(b){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=b)n(u),T.sortIndex=T.expirationTime,t(l,T);else break;T=r(u)}}function S(b){if(w=!1,p(b),!y)if(r(l)!==null)y=!0,Ue(x);else{var T=r(u);T!==null&&nt(S,T.startTime-b)}}function x(b,T){y=!1,w&&(w=!1,g(I),I=-1),m=!0;var j=h;try{for(p(T),d=r(l);d!==null&&(!(d.expirationTime>T)||b&&!de());){var N=d.callback;if(typeof N=="function"){d.callback=null,h=d.priorityLevel;var A=N(d.expirationTime<=T);T=e.unstable_now(),typeof A=="function"?d.callback=A:d===r(l)&&n(l),p(T)}else n(l);d=r(l)}if(d!==null)var L=!0;else{var q=r(u);q!==null&&nt(S,q.startTime-T),L=!1}return L}finally{d=null,h=j,m=!1}}var E=!1,C=null,I=-1,F=5,D=-1;function de(){return!(e.unstable_now()-D<F)}function $e(){if(C!==null){var b=e.unstable_now();D=b;var T=!0;try{T=C(!0,b)}finally{T?Ee():(E=!1,C=null)}}else E=!1}var Ee;if(typeof f=="function")Ee=function(){f($e)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ee=rt.port2;rt.port1.onmessage=$e,Ee=function(){ee.postMessage(null)}}else Ee=function(){_($e,0)};function Ue(b){C=b,E||(E=!0,Ee())}function nt(b,T){I=_(function(){b(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,Ue(x))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(b){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var j=h;h=T;try{return b()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var j=h;h=b;try{return T()}finally{h=j}},e.unstable_scheduleCallback=function(b,T,j){var N=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?N+j:N):j=N,b){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=j+A,b={id:c++,callback:T,priorityLevel:b,startTime:j,expirationTime:A,sortIndex:-1},j>N?(b.sortIndex=j,t(u,b),r(l)===null&&b===r(u)&&(w?(g(I),I=-1):w=!0,nt(S,j-N))):(b.sortIndex=A,t(l,b),y||m||(y=!0,Ue(x))),b},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(b){var T=h;return function(){var j=h;h=T;try{return b.apply(this,arguments)}finally{h=j}}}})(Th);xh.exports=Th;var xm=xh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=k,Xe=xm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ph=new Set,fs={};function Mr(e,t){kn(e,t),kn(e+"Capture",t)}function kn(e,t){for(fs[e]=t,e=0;e<t.length;e++)Ph.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=Object.prototype.hasOwnProperty,Pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nc={},sc={};function jm(e){return Ta.call(sc,e)?!0:Ta.call(nc,e)?!1:Pm.test(e)?sc[e]=!0:(nc[e]=!0,!1)}function Om(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cm(e,t,r,n){if(t===null||typeof t>"u"||Om(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wl,Zl);Ce[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wl,Zl);Ce[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wl,Zl);Ce[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hl(e,t,r,n){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cm(t,r,s,n)&&(r=null),n||s===null?jm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mt=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),en=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),ql=Symbol.for("react.strict_mode"),Pa=Symbol.for("react.profiler"),jh=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),Kl=Symbol.for("react.forward_ref"),ja=Symbol.for("react.suspense"),Oa=Symbol.for("react.suspense_list"),Gl=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Ch=Symbol.for("react.offscreen"),ic=Symbol.iterator;function Bn(e){return e===null||typeof e!="object"?null:(e=ic&&e[ic]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Bo;function Gn(e){if(Bo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bo=t&&t[1]||""}return`
`+Bo+e}var Fo=!1;function Vo(e,t){if(!e||Fo)return"";Fo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gn(e):""}function Am(e){switch(e.tag){case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 2:case 15:return e=Vo(e.type,!1),e;case 11:return e=Vo(e.type.render,!1),e;case 1:return e=Vo(e.type,!0),e;default:return""}}function Ca(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tn:return"Fragment";case en:return"Portal";case Pa:return"Profiler";case ql:return"StrictMode";case ja:return"Suspense";case Oa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Oh:return(e.displayName||"Context")+".Consumer";case jh:return(e._context.displayName||"Context")+".Provider";case Kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gl:return t=e.displayName||null,t!==null?t:Ca(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Ca(e(t))}catch{}}return null}function Nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ca(t);case 8:return t===ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ah(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Im(e){var t=Ah(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Js(e){e._valueTracker||(e._valueTracker=Im(e))}function Nh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ah(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Aa(e,t){var r=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function oc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ih(e,t){t=t.checked,t!=null&&Hl(e,"checked",t,!1)}function Na(e,t){Ih(e,t);var r=lr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ac(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ia(e,t,r){(t!=="number"||$i(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jn=Array.isArray;function pn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(Jn(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lr(r)}}function Rh(e,t){var r=lr(t.value),n=lr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function uc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $h(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $a(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$h(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,zh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ps(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rm=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){Rm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ts[t]=ts[e]})});function Dh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ts.hasOwnProperty(e)&&ts[e]?(""+t).trim():t+"px"}function Lh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Dh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var $m=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(e,t){if(t){if($m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=null;function Jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,gn=null,mn=null;function cc(e){if(e=Fs(e)){if(typeof Ua!="function")throw Error(O(280));var t=e.stateNode;t&&(t=_o(t),Ua(e.stateNode,e.type,t))}}function Uh(e){gn?mn?mn.push(e):mn=[e]:gn=e}function Mh(){if(gn){var e=gn,t=mn;if(mn=gn=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function Bh(e,t){return e(t)}function Fh(){}var Wo=!1;function Vh(e,t,r){if(Wo)return e(t,r);Wo=!0;try{return Bh(e,t,r)}finally{Wo=!1,(gn!==null||mn!==null)&&(Fh(),Mh())}}function gs(e,t){var r=e.stateNode;if(r===null)return null;var n=_o(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Ma=!1;if(zt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ma=!1}function zm(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var rs=!1,zi=null,Di=!1,Ba=null,Dm={onError:function(e){rs=!0,zi=e}};function Lm(e,t,r,n,s,i,o,a,l){rs=!1,zi=null,zm.apply(Dm,arguments)}function Um(e,t,r,n,s,i,o,a,l){if(Lm.apply(this,arguments),rs){if(rs){var u=zi;rs=!1,zi=null}else throw Error(O(198));Di||(Di=!0,Ba=u)}}function Br(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dc(e){if(Br(e)!==e)throw Error(O(188))}function Mm(e){var t=e.alternate;if(!t){if(t=Br(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return dc(s),e;if(i===n)return dc(s),t;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Zh(e){return e=Mm(e),e!==null?Hh(e):null}function Hh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hh(e);if(t!==null)return t;e=e.sibling}return null}var qh=Xe.unstable_scheduleCallback,hc=Xe.unstable_cancelCallback,Bm=Xe.unstable_shouldYield,Fm=Xe.unstable_requestPaint,fe=Xe.unstable_now,Vm=Xe.unstable_getCurrentPriorityLevel,Ql=Xe.unstable_ImmediatePriority,Kh=Xe.unstable_UserBlockingPriority,Li=Xe.unstable_NormalPriority,Wm=Xe.unstable_LowPriority,Gh=Xe.unstable_IdlePriority,mo=null,Tt=null;function Zm(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Km,Hm=Math.log,qm=Math.LN2;function Km(e){return e>>>=0,e===0?32:31-(Hm(e)/qm|0)|0}var Ys=64,Xs=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ui(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Qn(a):(i&=o,i!==0&&(n=Qn(i)))}else o=r&~s,o!==0?n=Qn(o):i!==0&&(n=Qn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wt(t),s=1<<r,n|=e[r],t&=~s;return n}function Gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Gm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jh(){var e=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),e}function Zo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ms(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=r}function Qm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Yl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function Qh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yh,Xl,Xh,ef,tf,Va=!1,ei=[],er=null,tr=null,rr=null,ms=new Map,vs=new Map,qt=[],Ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function Vn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fs(t),t!==null&&Xl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xm(e,t,r,n,s){switch(t){case"focusin":return er=Vn(er,e,t,r,n,s),!0;case"dragenter":return tr=Vn(tr,e,t,r,n,s),!0;case"mouseover":return rr=Vn(rr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ms.set(i,Vn(ms.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,vs.set(i,Vn(vs.get(i)||null,e,t,r,n,s)),!0}return!1}function rf(e){var t=xr(e.target);if(t!==null){var r=Br(t);if(r!==null){if(t=r.tag,t===13){if(t=Wh(r),t!==null){e.blockedOn=t,tf(e.priority,function(){Xh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);La=n,r.target.dispatchEvent(n),La=null}else return t=Fs(r),t!==null&&Xl(t),e.blockedOn=r,!1;t.shift()}return!0}function pc(e,t,r){xi(e)&&r.delete(t)}function ev(){Va=!1,er!==null&&xi(er)&&(er=null),tr!==null&&xi(tr)&&(tr=null),rr!==null&&xi(rr)&&(rr=null),ms.forEach(pc),vs.forEach(pc)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,ev)))}function ys(e){function t(s){return Wn(s,e)}if(0<ei.length){Wn(ei[0],e);for(var r=1;r<ei.length;r++){var n=ei[r];n.blockedOn===e&&(n.blockedOn=null)}}for(er!==null&&Wn(er,e),tr!==null&&Wn(tr,e),rr!==null&&Wn(rr,e),ms.forEach(t),vs.forEach(t),r=0;r<qt.length;r++)n=qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)rf(r),r.blockedOn===null&&qt.shift()}var vn=Mt.ReactCurrentBatchConfig,Mi=!0;function tv(e,t,r,n){var s=K,i=vn.transition;vn.transition=null;try{K=1,eu(e,t,r,n)}finally{K=s,vn.transition=i}}function rv(e,t,r,n){var s=K,i=vn.transition;vn.transition=null;try{K=4,eu(e,t,r,n)}finally{K=s,vn.transition=i}}function eu(e,t,r,n){if(Mi){var s=Wa(e,t,r,n);if(s===null)ta(e,t,n,Bi,r),fc(e,n);else if(Xm(s,e,t,r,n))n.stopPropagation();else if(fc(e,n),t&4&&-1<Ym.indexOf(e)){for(;s!==null;){var i=Fs(s);if(i!==null&&Yh(i),i=Wa(e,t,r,n),i===null&&ta(e,t,n,Bi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ta(e,t,n,null,r)}}var Bi=null;function Wa(e,t,r,n){if(Bi=null,e=Jl(n),e=xr(e),e!==null)if(t=Br(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bi=e,null}function nf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case Ql:return 1;case Kh:return 4;case Li:case Wm:return 16;case Gh:return 536870912;default:return 16}default:return 16}}var Jt=null,tu=null,Ti=null;function sf(){if(Ti)return Ti;var e,t=tu,r=t.length,n,s="value"in Jt?Jt.value:Jt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ti=s.slice(e,1<n?1-n:void 0)}function Pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function gc(){return!1}function tt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ti:gc,this.isPropagationStopped=gc,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=tt(Nn),Bs=ue({},Nn,{view:0,detail:0}),nv=tt(Bs),Ho,qo,Zn,vo=ue({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Ho=e.screenX-Zn.screenX,qo=e.screenY-Zn.screenY):qo=Ho=0,Zn=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),mc=tt(vo),sv=ue({},vo,{dataTransfer:0}),iv=tt(sv),ov=ue({},Bs,{relatedTarget:0}),Ko=tt(ov),av=ue({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),lv=tt(av),uv=ue({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cv=tt(uv),dv=ue({},Nn,{data:0}),vc=tt(dv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pv[e])?!!t[e]:!1}function nu(){return gv}var mv=ue({},Bs,{key:function(e){if(e.key){var t=hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vv=tt(mv),yv=ue({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=tt(yv),wv=ue({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),_v=tt(wv),Sv=ue({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=tt(Sv),bv=ue({},vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=tt(bv),xv=[9,13,27,32],su=zt&&"CompositionEvent"in window,ns=null;zt&&"documentMode"in document&&(ns=document.documentMode);var Tv=zt&&"TextEvent"in window&&!ns,of=zt&&(!su||ns&&8<ns&&11>=ns),wc=" ",_c=!1;function af(e,t){switch(e){case"keyup":return xv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function Pv(e,t){switch(e){case"compositionend":return lf(t);case"keypress":return t.which!==32?null:(_c=!0,wc);case"textInput":return e=t.data,e===wc&&_c?null:e;default:return null}}function jv(e,t){if(rn)return e==="compositionend"||!su&&af(e,t)?(e=sf(),Ti=tu=Jt=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return of&&t.locale!=="ko"?null:t.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ov[e.type]:t==="textarea"}function uf(e,t,r,n){Uh(n),t=Fi(t,"onChange"),0<t.length&&(r=new ru("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ss=null,ws=null;function Cv(e){_f(e,0)}function yo(e){var t=on(e);if(Nh(t))return e}function Av(e,t){if(e==="change")return t}var cf=!1;if(zt){var Go;if(zt){var Jo="oninput"in document;if(!Jo){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Jo=typeof kc.oninput=="function"}Go=Jo}else Go=!1;cf=Go&&(!document.documentMode||9<document.documentMode)}function bc(){ss&&(ss.detachEvent("onpropertychange",df),ws=ss=null)}function df(e){if(e.propertyName==="value"&&yo(ws)){var t=[];uf(t,ws,e,Jl(e)),Vh(Cv,t)}}function Nv(e,t,r){e==="focusin"?(bc(),ss=t,ws=r,ss.attachEvent("onpropertychange",df)):e==="focusout"&&bc()}function Iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(ws)}function Rv(e,t){if(e==="click")return yo(t)}function $v(e,t){if(e==="input"||e==="change")return yo(t)}function zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:zv;function _s(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ta.call(t,s)||!St(e[s],t[s]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xc(e,t){var r=Ec(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ec(r)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=$i();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$i(e.document)}return t}function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dv(e){var t=ff(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hf(r.ownerDocument.documentElement,r)){if(n!==null&&iu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=xc(r,i);var o=xc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lv=zt&&"documentMode"in document&&11>=document.documentMode,nn=null,Za=null,is=null,Ha=!1;function Tc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ha||nn==null||nn!==$i(n)||(n=nn,"selectionStart"in n&&iu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),is&&_s(is,n)||(is=n,n=Fi(Za,"onSelect"),0<n.length&&(t=new ru("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nn)))}function ri(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sn={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},Qo={},pf={};zt&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function wo(e){if(Qo[e])return Qo[e];if(!sn[e])return e;var t=sn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pf)return Qo[e]=t[r];return e}var gf=wo("animationend"),mf=wo("animationiteration"),vf=wo("animationstart"),yf=wo("transitionend"),wf=new Map,Pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){wf.set(e,t),Mr(t,[e])}for(var Yo=0;Yo<Pc.length;Yo++){var Xo=Pc[Yo],Uv=Xo.toLowerCase(),Mv=Xo[0].toUpperCase()+Xo.slice(1);cr(Uv,"on"+Mv)}cr(gf,"onAnimationEnd");cr(mf,"onAnimationIteration");cr(vf,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(yf,"onTransitionEnd");kn("onMouseEnter",["mouseout","mouseover"]);kn("onMouseLeave",["mouseout","mouseover"]);kn("onPointerEnter",["pointerout","pointerover"]);kn("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yn));function jc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Um(n,t,void 0,e),e.currentTarget=null}function _f(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;jc(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;jc(s,a,u),i=l}}}if(Di)throw e=Ba,Di=!1,Ba=null,e}function re(e,t){var r=t[Qa];r===void 0&&(r=t[Qa]=new Set);var n=e+"__bubble";r.has(n)||(Sf(t,e,2,!1),r.add(n))}function ea(e,t,r){var n=0;t&&(n|=4),Sf(r,e,n,t)}var ni="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[ni]){e[ni]=!0,Ph.forEach(function(r){r!=="selectionchange"&&(Bv.has(r)||ea(r,!1,e),ea(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ni]||(t[ni]=!0,ea("selectionchange",!1,t))}}function Sf(e,t,r,n){switch(nf(t)){case 1:var s=tv;break;case 4:s=rv;break;default:s=eu}r=s.bind(null,t,r,e),s=void 0,!Ma||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ta(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Vh(function(){var u=i,c=Jl(r),d=[];e:{var h=wf.get(e);if(h!==void 0){var m=ru,y=e;switch(e){case"keypress":if(Pi(r)===0)break e;case"keydown":case"keyup":m=vv;break;case"focusin":y="focus",m=Ko;break;case"focusout":y="blur",m=Ko;break;case"beforeblur":case"afterblur":m=Ko;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_v;break;case gf:case mf:case vf:m=lv;break;case yf:m=kv;break;case"scroll":m=nv;break;case"wheel":m=Ev;break;case"copy":case"cut":case"paste":m=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yc}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var f=u,p;f!==null;){p=f;var S=p.stateNode;if(p.tag===5&&S!==null&&(p=S,g!==null&&(S=gs(f,g),S!=null&&w.push(ks(f,S,p)))),_)break;f=f.return}0<w.length&&(h=new m(h,y,null,r,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==La&&(y=r.relatedTarget||r.fromElement)&&(xr(y)||y[Dt]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?xr(y):null,y!==null&&(_=Br(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=mc,S="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=yc,S="onPointerLeave",g="onPointerEnter",f="pointer"),_=m==null?h:on(m),p=y==null?h:on(y),h=new w(S,f+"leave",m,r,c),h.target=_,h.relatedTarget=p,S=null,xr(c)===u&&(w=new w(g,f+"enter",y,r,c),w.target=p,w.relatedTarget=_,S=w),_=S,m&&y)t:{for(w=m,g=y,f=0,p=w;p;p=Hr(p))f++;for(p=0,S=g;S;S=Hr(S))p++;for(;0<f-p;)w=Hr(w),f--;for(;0<p-f;)g=Hr(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Hr(w),g=Hr(g)}w=null}else w=null;m!==null&&Oc(d,h,m,w,!1),y!==null&&_!==null&&Oc(d,_,y,w,!0)}}e:{if(h=u?on(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var x=Av;else if(Sc(h))if(cf)x=$v;else{x=Iv;var E=Nv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Rv);if(x&&(x=x(e,u))){uf(d,x,r,c);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Ia(h,"number",h.value)}switch(E=u?on(u):window,e){case"focusin":(Sc(E)||E.contentEditable==="true")&&(nn=E,Za=u,is=null);break;case"focusout":is=Za=nn=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,Tc(d,r,c);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":Tc(d,r,c)}var C;if(su)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else rn?af(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(of&&r.locale!=="ko"&&(rn||I!=="onCompositionStart"?I==="onCompositionEnd"&&rn&&(C=sf()):(Jt=c,tu="value"in Jt?Jt.value:Jt.textContent,rn=!0)),E=Fi(u,I),0<E.length&&(I=new vc(I,e,null,r,c),d.push({event:I,listeners:E}),C?I.data=C:(C=lf(r),C!==null&&(I.data=C)))),(C=Tv?Pv(e,r):jv(e,r))&&(u=Fi(u,"onBeforeInput"),0<u.length&&(c=new vc("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}_f(d,t)})}function ks(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gs(e,r),i!=null&&n.unshift(ks(e,i,s)),i=gs(e,t),i!=null&&n.push(ks(e,i,s))),e=e.return}return n}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oc(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=gs(r,i),l!=null&&o.unshift(ks(r,l,a))):s||(l=gs(r,i),l!=null&&o.push(ks(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Fv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function Cc(e){return(typeof e=="string"?e:""+e).replace(Fv,`
`).replace(Vv,"")}function si(e,t,r){if(t=Cc(t),Cc(e)!==t&&r)throw Error(O(425))}function Vi(){}var qa=null,Ka=null;function Ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,Ac=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ac<"u"?function(e){return Ac.resolve(null).then(e).catch(Hv)}:Ja;function Hv(e){setTimeout(function(){throw e})}function ra(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ys(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ys(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),xt="__reactFiber$"+In,bs="__reactProps$"+In,Dt="__reactContainer$"+In,Qa="__reactEvents$"+In,qv="__reactListeners$"+In,Kv="__reactHandles$"+In;function xr(e){var t=e[xt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Dt]||r[xt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nc(e);e!==null;){if(r=e[xt])return r;e=Nc(e)}return t}e=r,r=e.parentNode}return null}function Fs(e){return e=e[xt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function on(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function _o(e){return e[bs]||null}var Ya=[],an=-1;function dr(e){return{current:e}}function ne(e){0>an||(e.current=Ya[an],Ya[an]=null,an--)}function Y(e,t){an++,Ya[an]=e.current,e.current=t}var ur={},Re=dr(ur),We=dr(!1),Ir=ur;function bn(e,t){var r=e.type.contextTypes;if(!r)return ur;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(e){return e=e.childContextTypes,e!=null}function Wi(){ne(We),ne(Re)}function Ic(e,t,r){if(Re.current!==ur)throw Error(O(168));Y(Re,t),Y(We,r)}function kf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,Nm(e)||"Unknown",s));return ue({},r,n)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Ir=Re.current,Y(Re,e),Y(We,We.current),!0}function Rc(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=kf(e,t,Ir),n.__reactInternalMemoizedMergedChildContext=e,ne(We),ne(Re),Y(Re,e)):ne(We),Y(We,r)}var Nt=null,So=!1,na=!1;function bf(e){Nt===null?Nt=[e]:Nt.push(e)}function Gv(e){So=!0,bf(e)}function hr(){if(!na&&Nt!==null){na=!0;var e=0,t=K;try{var r=Nt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nt=null,So=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(e+1)),qh(Ql,hr),s}finally{K=t,na=!1}}return null}var ln=[],un=0,Hi=null,qi=0,st=[],it=0,Rr=null,It=1,Rt="";function _r(e,t){ln[un++]=qi,ln[un++]=Hi,Hi=e,qi=t}function Ef(e,t,r){st[it++]=It,st[it++]=Rt,st[it++]=Rr,Rr=e;var n=It;e=Rt;var s=32-wt(n)-1;n&=~(1<<s),r+=1;var i=32-wt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,It=1<<32-wt(t)+s|r<<s|n,Rt=i+e}else It=1<<i|r<<s|n,Rt=e}function ou(e){e.return!==null&&(_r(e,1),Ef(e,1,0))}function au(e){for(;e===Hi;)Hi=ln[--un],ln[un]=null,qi=ln[--un],ln[un]=null;for(;e===Rr;)Rr=st[--it],st[it]=null,Rt=st[--it],st[it]=null,It=st[--it],st[it]=null}var Ye=null,Qe=null,se=!1,yt=null;function xf(e,t){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $c(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Qe=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rr!==null?{id:It,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ye=e,Qe=null,!0):!1;default:return!1}}function Xa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(se){var t=Qe;if(t){var r=t;if(!$c(e,t)){if(Xa(e))throw Error(O(418));t=nr(r.nextSibling);var n=Ye;t&&$c(e,t)?xf(n,r):(e.flags=e.flags&-4097|2,se=!1,Ye=e)}}else{if(Xa(e))throw Error(O(418));e.flags=e.flags&-4097|2,se=!1,Ye=e}}}function zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function ii(e){if(e!==Ye)return!1;if(!se)return zc(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ga(e.type,e.memoizedProps)),t&&(t=Qe)){if(Xa(e))throw Tf(),Error(O(418));for(;t;)xf(e,t),t=nr(t.nextSibling)}if(zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qe=nr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Ye?nr(e.stateNode.nextSibling):null;return!0}function Tf(){for(var e=Qe;e;)e=nr(e.nextSibling)}function En(){Qe=Ye=null,se=!1}function lu(e){yt===null?yt=[e]:yt.push(e)}var Jv=Mt.ReactCurrentBatchConfig;function Hn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dc(e){var t=e._init;return t(e._payload)}function Pf(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=ar(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,f,p,S){return f===null||f.tag!==6?(f=ca(p,g.mode,S),f.return=g,f):(f=s(f,p),f.return=g,f)}function l(g,f,p,S){var x=p.type;return x===tn?c(g,f,p.props.children,S,p.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Zt&&Dc(x)===f.type)?(S=s(f,p.props),S.ref=Hn(g,f,p),S.return=g,S):(S=Ri(p.type,p.key,p.props,null,g.mode,S),S.ref=Hn(g,f,p),S.return=g,S)}function u(g,f,p,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=da(p,g.mode,S),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function c(g,f,p,S,x){return f===null||f.tag!==7?(f=Cr(p,g.mode,S,x),f.return=g,f):(f=s(f,p),f.return=g,f)}function d(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ca(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Gs:return p=Ri(f.type,f.key,f.props,null,g.mode,p),p.ref=Hn(g,null,f),p.return=g,p;case en:return f=da(f,g.mode,p),f.return=g,f;case Zt:var S=f._init;return d(g,S(f._payload),p)}if(Jn(f)||Bn(f))return f=Cr(f,g.mode,p,null),f.return=g,f;oi(g,f)}return null}function h(g,f,p,S){var x=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return x!==null?null:a(g,f,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Gs:return p.key===x?l(g,f,p,S):null;case en:return p.key===x?u(g,f,p,S):null;case Zt:return x=p._init,h(g,f,x(p._payload),S)}if(Jn(p)||Bn(p))return x!==null?null:c(g,f,p,S,null);oi(g,p)}return null}function m(g,f,p,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(p)||null,a(f,g,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gs:return g=g.get(S.key===null?p:S.key)||null,l(f,g,S,x);case en:return g=g.get(S.key===null?p:S.key)||null,u(f,g,S,x);case Zt:var E=S._init;return m(g,f,p,E(S._payload),x)}if(Jn(S)||Bn(S))return g=g.get(p)||null,c(f,g,S,x,null);oi(f,S)}return null}function y(g,f,p,S){for(var x=null,E=null,C=f,I=f=0,F=null;C!==null&&I<p.length;I++){C.index>I?(F=C,C=null):F=C.sibling;var D=h(g,C,p[I],S);if(D===null){C===null&&(C=F);break}e&&C&&D.alternate===null&&t(g,C),f=i(D,f,I),E===null?x=D:E.sibling=D,E=D,C=F}if(I===p.length)return r(g,C),se&&_r(g,I),x;if(C===null){for(;I<p.length;I++)C=d(g,p[I],S),C!==null&&(f=i(C,f,I),E===null?x=C:E.sibling=C,E=C);return se&&_r(g,I),x}for(C=n(g,C);I<p.length;I++)F=m(C,g,I,p[I],S),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?I:F.key),f=i(F,f,I),E===null?x=F:E.sibling=F,E=F);return e&&C.forEach(function(de){return t(g,de)}),se&&_r(g,I),x}function w(g,f,p,S){var x=Bn(p);if(typeof x!="function")throw Error(O(150));if(p=x.call(p),p==null)throw Error(O(151));for(var E=x=null,C=f,I=f=0,F=null,D=p.next();C!==null&&!D.done;I++,D=p.next()){C.index>I?(F=C,C=null):F=C.sibling;var de=h(g,C,D.value,S);if(de===null){C===null&&(C=F);break}e&&C&&de.alternate===null&&t(g,C),f=i(de,f,I),E===null?x=de:E.sibling=de,E=de,C=F}if(D.done)return r(g,C),se&&_r(g,I),x;if(C===null){for(;!D.done;I++,D=p.next())D=d(g,D.value,S),D!==null&&(f=i(D,f,I),E===null?x=D:E.sibling=D,E=D);return se&&_r(g,I),x}for(C=n(g,C);!D.done;I++,D=p.next())D=m(C,g,I,D.value,S),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?I:D.key),f=i(D,f,I),E===null?x=D:E.sibling=D,E=D);return e&&C.forEach(function($e){return t(g,$e)}),se&&_r(g,I),x}function _(g,f,p,S){if(typeof p=="object"&&p!==null&&p.type===tn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Gs:e:{for(var x=p.key,E=f;E!==null;){if(E.key===x){if(x=p.type,x===tn){if(E.tag===7){r(g,E.sibling),f=s(E,p.props.children),f.return=g,g=f;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Zt&&Dc(x)===E.type){r(g,E.sibling),f=s(E,p.props),f.ref=Hn(g,E,p),f.return=g,g=f;break e}r(g,E);break}else t(g,E);E=E.sibling}p.type===tn?(f=Cr(p.props.children,g.mode,S,p.key),f.return=g,g=f):(S=Ri(p.type,p.key,p.props,null,g.mode,S),S.ref=Hn(g,f,p),S.return=g,g=S)}return o(g);case en:e:{for(E=p.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=da(p,g.mode,S),f.return=g,g=f}return o(g);case Zt:return E=p._init,_(g,f,E(p._payload),S)}if(Jn(p))return y(g,f,p,S);if(Bn(p))return w(g,f,p,S);oi(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,p),f.return=g,g=f):(r(g,f),f=ca(p,g.mode,S),f.return=g,g=f),o(g)):r(g,f)}return _}var xn=Pf(!0),jf=Pf(!1),Ki=dr(null),Gi=null,cn=null,uu=null;function cu(){uu=cn=Gi=null}function du(e){var t=Ki.current;ne(Ki),e._currentValue=t}function tl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yn(e,t){Gi=e,uu=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(uu!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(Gi===null)throw Error(O(308));cn=e,Gi.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var Tr=null;function hu(e){Tr===null?Tr=[e]:Tr.push(e)}function Of(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hu(t)):(r.next=s.next,s.next=r),t.interleaved=r,Lt(e,n)}function Lt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ht=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,H&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Lt(e,r)}return s=n.interleaved,s===null?(t.next=t,hu(n)):(t.next=s.next,s.next=t),n.interleaved=t,Lt(e,r)}function ji(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yl(e,r)}}function Lc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ji(e,t,r,n){var s=e.updateQueue;Ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,w=a;switch(h=t,m=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=ue({},d,h);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);zr|=o,e.lanes=o,e.memoizedState=d}}function Uc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var Vs={},Pt=dr(Vs),Es=dr(Vs),xs=dr(Vs);function Pr(e){if(e===Vs)throw Error(O(174));return e}function pu(e,t){switch(Y(xs,t),Y(Es,e),Y(Pt,Vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$a(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$a(t,e)}ne(Pt),Y(Pt,t)}function Tn(){ne(Pt),ne(Es),ne(xs)}function Af(e){Pr(xs.current);var t=Pr(Pt.current),r=$a(t,e.type);t!==r&&(Y(Es,e),Y(Pt,r))}function gu(e){Es.current===e&&(ne(Pt),ne(Es))}var ae=dr(0);function Qi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function mu(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var Oi=Mt.ReactCurrentDispatcher,ia=Mt.ReactCurrentBatchConfig,$r=0,le=null,Se=null,xe=null,Yi=!1,os=!1,Ts=0,Qv=0;function Ae(){throw Error(O(321))}function vu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!St(e[r],t[r]))return!1;return!0}function yu(e,t,r,n,s,i){if($r=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oi.current=e===null||e.memoizedState===null?ty:ry,e=r(n,s),os){i=0;do{if(os=!1,Ts=0,25<=i)throw Error(O(301));i+=1,xe=Se=null,t.updateQueue=null,Oi.current=ny,e=r(n,s)}while(os)}if(Oi.current=Xi,t=Se!==null&&Se.next!==null,$r=0,xe=Se=le=null,Yi=!1,t)throw Error(O(300));return e}function wu(){var e=Ts!==0;return Ts=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?le.memoizedState=xe=e:xe=xe.next=e,xe}function ut(){if(Se===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=xe===null?le.memoizedState:xe.next;if(t!==null)xe=t,Se=e;else{if(e===null)throw Error(O(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},xe===null?le.memoizedState=xe=e:xe=xe.next=e}return xe}function Ps(e,t){return typeof t=="function"?t(e):t}function oa(e){var t=ut(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if(($r&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,le.lanes|=c,zr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,St(n,t.memoizedState)||(Ve=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,le.lanes|=i,zr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function aa(e){var t=ut(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);St(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Nf(){}function If(e,t){var r=le,n=ut(),s=t(),i=!St(n.memoizedState,s);if(i&&(n.memoizedState=s,Ve=!0),n=n.queue,_u(zf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xe!==null&&xe.memoizedState.tag&1){if(r.flags|=2048,js(9,$f.bind(null,r,n,s,t),void 0,null),Te===null)throw Error(O(349));$r&30||Rf(r,t,s)}return s}function Rf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $f(e,t,r,n){t.value=r,t.getSnapshot=n,Df(t)&&Lf(e)}function zf(e,t,r){return r(function(){Df(t)&&Lf(e)})}function Df(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!St(e,r)}catch{return!0}}function Lf(e){var t=Lt(e,1);t!==null&&_t(t,e,1,-1)}function Mc(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=ey.bind(null,le,e),[t.memoizedState,e]}function js(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uf(){return ut().memoizedState}function Ci(e,t,r,n){var s=Et();le.flags|=e,s.memoizedState=js(1|t,r,void 0,n===void 0?null:n)}function ko(e,t,r,n){var s=ut();n=n===void 0?null:n;var i=void 0;if(Se!==null){var o=Se.memoizedState;if(i=o.destroy,n!==null&&vu(n,o.deps)){s.memoizedState=js(t,r,i,n);return}}le.flags|=e,s.memoizedState=js(1|t,r,i,n)}function Bc(e,t){return Ci(8390656,8,e,t)}function _u(e,t){return ko(2048,8,e,t)}function Mf(e,t){return ko(4,2,e,t)}function Bf(e,t){return ko(4,4,e,t)}function Ff(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,r){return r=r!=null?r.concat([e]):null,ko(4,4,Ff.bind(null,t,e),r)}function Su(){}function Wf(e,t){var r=ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Zf(e,t){var r=ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hf(e,t,r){return $r&21?(St(r,t)||(r=Jh(),le.lanes|=r,zr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=r)}function Yv(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=ia.transition;ia.transition={};try{e(!1),t()}finally{K=r,ia.transition=n}}function qf(){return ut().memoizedState}function Xv(e,t,r){var n=or(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kf(e))Gf(t,r);else if(r=Of(e,t,r,n),r!==null){var s=De();_t(r,e,n,s),Jf(r,t,n)}}function ey(e,t,r){var n=or(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kf(e))Gf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,St(a,o)){var l=t.interleaved;l===null?(s.next=s,hu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Of(e,t,s,n),r!==null&&(s=De(),_t(r,e,n,s),Jf(r,t,n))}}function Kf(e){var t=e.alternate;return e===le||t!==null&&t===le}function Gf(e,t){os=Yi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yl(e,r)}}var Xi={readContext:lt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},ty={readContext:lt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Bc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ci(4194308,4,Ff.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var r=Et();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Et();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xv.bind(null,le,e),[n.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Mc,useDebugValue:Su,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Mc(!1),t=e[0];return e=Yv.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=le,s=Et();if(se){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),Te===null)throw Error(O(349));$r&30||Rf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Bc(zf.bind(null,n,i,e),[e]),n.flags|=2048,js(9,$f.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Et(),t=Te.identifierPrefix;if(se){var r=Rt,n=It;r=(n&~(1<<32-wt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Qv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ry={readContext:lt,useCallback:Wf,useContext:lt,useEffect:_u,useImperativeHandle:Vf,useInsertionEffect:Mf,useLayoutEffect:Bf,useMemo:Zf,useReducer:oa,useRef:Uf,useState:function(){return oa(Ps)},useDebugValue:Su,useDeferredValue:function(e){var t=ut();return Hf(t,Se.memoizedState,e)},useTransition:function(){var e=oa(Ps)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Nf,useSyncExternalStore:If,useId:qf,unstable_isNewReconciler:!1},ny={readContext:lt,useCallback:Wf,useContext:lt,useEffect:_u,useImperativeHandle:Vf,useInsertionEffect:Mf,useLayoutEffect:Bf,useMemo:Zf,useReducer:aa,useRef:Uf,useState:function(){return aa(Ps)},useDebugValue:Su,useDeferredValue:function(e){var t=ut();return Se===null?t.memoizedState=e:Hf(t,Se.memoizedState,e)},useTransition:function(){var e=aa(Ps)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Nf,useSyncExternalStore:If,useId:qf,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bo={isMounted:function(e){return(e=e._reactInternals)?Br(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=De(),s=or(e),i=$t(n,s);i.payload=t,r!=null&&(i.callback=r),t=sr(e,i,s),t!==null&&(_t(t,e,s,n),ji(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=De(),s=or(e),i=$t(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=sr(e,i,s),t!==null&&(_t(t,e,s,n),ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=De(),n=or(e),s=$t(r,n);s.tag=2,t!=null&&(s.callback=t),t=sr(e,s,n),t!==null&&(_t(t,e,n,r),ji(t,e,n))}};function Fc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!_s(r,n)||!_s(s,i):!0}function Qf(e,t,r){var n=!1,s=ur,i=t.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=Ze(t)?Ir:Re.current,n=t.contextTypes,i=(n=n!=null)?bn(e,s):ur),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function nl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},fu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=Ze(t)?Ir:Re.current,s.context=bn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bo.enqueueReplaceState(s,s.state,null),Ji(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pn(e,t){try{var r="",n=t;do r+=Am(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function la(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sy=typeof WeakMap=="function"?WeakMap:Map;function Yf(e,t,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){to||(to=!0,pl=n),sl(e,t)},r}function Xf(e,t,r){r=$t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){sl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sl(e,t),typeof n!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Wc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sy;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=yy.bind(null,e,t,r),t.then(e,e))}function Zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$t(-1,1),t.tag=2,sr(r,t,1))),r.lanes|=1),e)}var iy=Mt.ReactCurrentOwner,Ve=!1;function ze(e,t,r,n){t.child=e===null?jf(t,null,r,n):xn(t,e.child,r,n)}function qc(e,t,r,n,s){r=r.render;var i=t.ref;return yn(t,s),n=yu(e,t,r,n,i,s),r=wu(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(se&&r&&ou(t),t.flags|=1,ze(e,t,n,s),t.child)}function Kc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ou(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ep(e,t,i,n,s)):(e=Ri(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:_s,r(o,n)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=ar(i,n),e.ref=t.ref,e.return=t,t.child=e}function ep(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(_s(i,n)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return il(e,t,r,n,s)}function tp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(hn,Ke),Ke|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(hn,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(hn,Ke),Ke|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Y(hn,Ke),Ke|=n;return ze(e,t,s,r),t.child}function rp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function il(e,t,r,n,s){var i=Ze(r)?Ir:Re.current;return i=bn(t,i),yn(t,s),r=yu(e,t,r,n,i,s),n=wu(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(se&&n&&ou(t),t.flags|=1,ze(e,t,r,s),t.child)}function Gc(e,t,r,n,s){if(Ze(r)){var i=!0;Zi(t)}else i=!1;if(yn(t,s),t.stateNode===null)Ai(e,t),Qf(t,r,n),nl(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=Ze(r)?Ir:Re.current,u=bn(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Vc(t,o,n,u),Ht=!1;var h=t.memoizedState;o.state=h,Ji(t,n,o,s),l=t.memoizedState,a!==n||h!==l||We.current||Ht?(typeof c=="function"&&(rl(t,r,c,n),l=t.memoizedState),(a=Ht||Fc(t,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Cf(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pt(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=Ze(r)?Ir:Re.current,l=bn(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Vc(t,o,n,l),Ht=!1,h=t.memoizedState,o.state=h,Ji(t,n,o,s);var y=t.memoizedState;a!==d||h!==y||We.current||Ht?(typeof m=="function"&&(rl(t,r,m,n),y=t.memoizedState),(u=Ht||Fc(t,r,u,n,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ol(e,t,r,n,i,s)}function ol(e,t,r,n,s,i){rp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Rc(t,r,!1),Ut(e,t,i);n=t.stateNode,iy.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xn(t,e.child,null,i),t.child=xn(t,null,a,i)):ze(e,t,a,i),t.memoizedState=n.state,s&&Rc(t,r,!0),t.child}function np(e){var t=e.stateNode;t.pendingContext?Ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ic(e,t.context,!1),pu(e,t.containerInfo)}function Jc(e,t,r,n,s){return En(),lu(s),t.flags|=256,ze(e,t,r,n),t.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function sp(e,t,r){var n=t.pendingProps,s=ae.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(ae,s&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=To(o,n,0,null),e=Cr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ll(r),t.memoizedState=al,e):ku(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oy(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ar(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ar(a,i):(i=Cr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ll(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=al,n}return i=e.child,e=i.sibling,n=ar(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ku(e,t){return t=To({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,r,n){return n!==null&&lu(n),xn(t,e.child,null,r),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oy(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=la(Error(O(422))),ai(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=To({mode:"visible",children:n.children},s,0,null),i=Cr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xn(t,e.child,null,o),t.child.memoizedState=ll(o),t.memoizedState=al,i);if(!(t.mode&1))return ai(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(O(419)),n=la(i,n,void 0),ai(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ve||a){if(n=Te,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lt(e,s),_t(n,e,s,-1))}return ju(),n=la(Error(O(421))),ai(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=nr(s.nextSibling),Ye=t,se=!0,yt=null,e!==null&&(st[it++]=It,st[it++]=Rt,st[it++]=Rr,It=e.id,Rt=e.overflow,Rr=t),t=ku(t,n.children),t.flags|=4096,t)}function Qc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tl(e.return,t,r)}function ua(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ip(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ze(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,r,t);else if(e.tag===19)Qc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ua(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ua(t,!0,r,null,i);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ay(e,t,r){switch(t.tag){case 3:np(t),En();break;case 5:Af(t);break;case 1:Ze(t.type)&&Zi(t);break;case 4:pu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Y(Ki,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?sp(e,t,r):(Y(ae,ae.current&1),e=Ut(e,t,r),e!==null?e.sibling:null);Y(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ip(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,tp(e,t,r)}return Ut(e,t,r)}var op,ul,ap,lp;op=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ul=function(){};ap=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Pr(Pt.current);var i=null;switch(r){case"input":s=Aa(e,s),n=Aa(e,n),i=[];break;case"select":s=ue({},s,{value:void 0}),n=ue({},n,{value:void 0}),i=[];break;case"textarea":s=Ra(e,s),n=Ra(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vi)}za(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&re("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};lp=function(e,t,r,n){r!==n&&(t.flags|=4)};function qn(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ly(e,t,r){var n=t.pendingProps;switch(au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ze(t.type)&&Wi(),Ne(t),null;case 3:return n=t.stateNode,Tn(),ne(We),ne(Re),mu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(vl(yt),yt=null))),ul(e,t),Ne(t),null;case 5:gu(t);var s=Pr(xs.current);if(r=t.type,e!==null&&t.stateNode!=null)ap(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Ne(t),null}if(e=Pr(Pt.current),ii(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[xt]=t,n[bs]=i,e=(t.mode&1)!==0,r){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<Yn.length;s++)re(Yn[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":oc(n,i),re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},re("invalid",n);break;case"textarea":lc(n,i),re("invalid",n)}za(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&si(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&si(n.textContent,a,e),s=["children",""+a]):fs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",n)}switch(r){case"input":Js(n),ac(n,i,!0);break;case"textarea":Js(n),uc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$h(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[xt]=t,e[bs]=n,op(e,t,!1,!1),t.stateNode=e;e:{switch(o=Da(r,n),r){case"dialog":re("cancel",e),re("close",e),s=n;break;case"iframe":case"object":case"embed":re("load",e),s=n;break;case"video":case"audio":for(s=0;s<Yn.length;s++)re(Yn[s],e);s=n;break;case"source":re("error",e),s=n;break;case"img":case"image":case"link":re("error",e),re("load",e),s=n;break;case"details":re("toggle",e),s=n;break;case"input":oc(e,n),s=Aa(e,n),re("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ue({},n,{value:void 0}),re("invalid",e);break;case"textarea":lc(e,n),s=Ra(e,n),re("invalid",e);break;default:s=n}za(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Lh(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zh(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ps(e,l):typeof l=="number"&&ps(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&re("scroll",e):l!=null&&Hl(e,i,l,o))}switch(r){case"input":Js(e),ac(e,n,!1);break;case"textarea":Js(e),uc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?pn(e,!!n.multiple,i,!1):n.defaultValue!=null&&pn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)lp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=Pr(xs.current),Pr(Pt.current),ii(t)){if(n=t.stateNode,r=t.memoizedProps,n[xt]=t,(i=n.nodeValue!==r)&&(e=Ye,e!==null))switch(e.tag){case 3:si(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&si(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xt]=t,t.stateNode=n}return Ne(t),null;case 13:if(ne(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Qe!==null&&t.mode&1&&!(t.flags&128))Tf(),En(),t.flags|=98560,i=!1;else if(i=ii(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[xt]=t}else En(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),i=!1}else yt!==null&&(vl(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ke===0&&(ke=3):ju())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Tn(),ul(e,t),e===null&&Ss(t.stateNode.containerInfo),Ne(t),null;case 10:return du(t.type._context),Ne(t),null;case 17:return Ze(t.type)&&Wi(),Ne(t),null;case 19:if(ne(ae),i=t.memoizedState,i===null)return Ne(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)qn(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qi(e),o!==null){for(t.flags|=128,qn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&fe()>jn&&(t.flags|=128,n=!0,qn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return Ne(t),null}else 2*fe()-i.renderingStartTime>jn&&r!==1073741824&&(t.flags|=128,n=!0,qn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fe(),t.sibling=null,r=ae.current,Y(ae,n?r&1|2:r&1),t):(Ne(t),null);case 22:case 23:return Pu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ke&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function uy(e,t){switch(au(t),t.tag){case 1:return Ze(t.type)&&Wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),ne(We),ne(Re),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gu(t),null;case 13:if(ne(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ae),null;case 4:return Tn(),null;case 10:return du(t.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var li=!1,Ie=!1,cy=typeof WeakSet=="function"?WeakSet:Set,R=null;function dn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){he(e,t,n)}else r.current=null}function cl(e,t,r){try{r()}catch(n){he(e,t,n)}}var Yc=!1;function dy(e,t){if(qa=Mi,e=ff(),iu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ka={focusedElem:e,selectionRange:r},Mi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:pt(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){he(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return y=Yc,Yc=!1,y}function as(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&cl(t,r,i)}s=s.next}while(s!==n)}}function Eo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function dl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function up(e){var t=e.alternate;t!==null&&(e.alternate=null,up(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[bs],delete t[Qa],delete t[qv],delete t[Kv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cp(e){return e.tag===5||e.tag===3||e.tag===4}function Xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vi));else if(n!==4&&(e=e.child,e!==null))for(hl(e,t,r),e=e.sibling;e!==null;)hl(e,t,r),e=e.sibling}function fl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fl(e,t,r),e=e.sibling;e!==null;)fl(e,t,r),e=e.sibling}var je=null,mt=!1;function Ft(e,t,r){for(r=r.child;r!==null;)dp(e,t,r),r=r.sibling}function dp(e,t,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(mo,r)}catch{}switch(r.tag){case 5:Ie||dn(r,t);case 6:var n=je,s=mt;je=null,Ft(e,t,r),je=n,mt=s,je!==null&&(mt?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(mt?(e=je,r=r.stateNode,e.nodeType===8?ra(e.parentNode,r):e.nodeType===1&&ra(e,r),ys(e)):ra(je,r.stateNode));break;case 4:n=je,s=mt,je=r.stateNode.containerInfo,mt=!0,Ft(e,t,r),je=n,mt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cl(r,t,o),s=s.next}while(s!==n)}Ft(e,t,r);break;case 1:if(!Ie&&(dn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){he(r,t,a)}Ft(e,t,r);break;case 21:Ft(e,t,r);break;case 22:r.mode&1?(Ie=(n=Ie)||r.memoizedState!==null,Ft(e,t,r),Ie=n):Ft(e,t,r);break;default:Ft(e,t,r)}}function ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cy),t.forEach(function(n){var s=_y.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ht(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,mt=!1;break e;case 3:je=a.stateNode.containerInfo,mt=!0;break e;case 4:je=a.stateNode.containerInfo,mt=!0;break e}a=a.return}if(je===null)throw Error(O(160));dp(i,o,s),je=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){he(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hp(t,e),t=t.sibling}function hp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),kt(e),n&4){try{as(3,e,e.return),Eo(3,e)}catch(w){he(e,e.return,w)}try{as(5,e,e.return)}catch(w){he(e,e.return,w)}}break;case 1:ht(t,e),kt(e),n&512&&r!==null&&dn(r,r.return);break;case 5:if(ht(t,e),kt(e),n&512&&r!==null&&dn(r,r.return),e.flags&32){var s=e.stateNode;try{ps(s,"")}catch(w){he(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ih(s,i),Da(a,o);var u=Da(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Lh(s,d):c==="dangerouslySetInnerHTML"?zh(s,d):c==="children"?ps(s,d):Hl(s,c,d,u)}switch(a){case"input":Na(s,i);break;case"textarea":Rh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pn(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?pn(s,!!i.multiple,i.defaultValue,!0):pn(s,!!i.multiple,i.multiple?[]:"",!1))}s[bs]=i}catch(w){he(e,e.return,w)}}break;case 6:if(ht(t,e),kt(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){he(e,e.return,w)}}break;case 3:if(ht(t,e),kt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(w){he(e,e.return,w)}break;case 4:ht(t,e),kt(e);break;case 13:ht(t,e),kt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xu=fe())),n&4&&ed(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||c,ht(t,e),Ie=u):ht(t,e),kt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(R=e,c=e.child;c!==null;){for(d=R=c;R!==null;){switch(h=R,m=h.child,h.tag){case 0:case 11:case 14:case 15:as(4,h,h.return);break;case 1:dn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){he(n,r,w)}}break;case 5:dn(h,h.return);break;case 22:if(h.memoizedState!==null){rd(d);continue}}m!==null?(m.return=h,R=m):rd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dh("display",o))}catch(w){he(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){he(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ht(t,e),kt(e),n&4&&ed(e);break;case 21:break;default:ht(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cp(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ps(s,""),n.flags&=-33);var i=Xc(e);fl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Xc(e);hl(e,a,o);break;default:throw Error(O(161))}}catch(l){he(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hy(e,t,r){R=e,fp(e)}function fp(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||li;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=li;var u=Ie;if(li=o,(Ie=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?nd(s):l!==null?(l.return=o,R=l):nd(s);for(;i!==null;)R=i,fp(i),i=i.sibling;R=s,li=a,Ie=u}td(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):td(e)}}function td(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Eo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ie)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:pt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Uc(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uc(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ie||t.flags&512&&dl(t)}catch(h){he(t,t.return,h)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function rd(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function nd(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Eo(4,t)}catch(l){he(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){he(t,s,l)}}var i=t.return;try{dl(t)}catch(l){he(t,i,l)}break;case 5:var o=t.return;try{dl(t)}catch(l){he(t,o,l)}}}catch(l){he(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var fy=Math.ceil,eo=Mt.ReactCurrentDispatcher,bu=Mt.ReactCurrentOwner,at=Mt.ReactCurrentBatchConfig,H=0,Te=null,ge=null,Oe=0,Ke=0,hn=dr(0),ke=0,Os=null,zr=0,xo=0,Eu=0,ls=null,Be=null,xu=0,jn=1/0,Ct=null,to=!1,pl=null,ir=null,ui=!1,Qt=null,ro=0,us=0,gl=null,Ni=-1,Ii=0;function De(){return H&6?fe():Ni!==-1?Ni:Ni=fe()}function or(e){return e.mode&1?H&2&&Oe!==0?Oe&-Oe:Jv.transition!==null?(Ii===0&&(Ii=Jh()),Ii):(e=K,e!==0||(e=window.event,e=e===void 0?16:nf(e.type)),e):1}function _t(e,t,r,n){if(50<us)throw us=0,gl=null,Error(O(185));Ms(e,r,n),(!(H&2)||e!==Te)&&(e===Te&&(!(H&2)&&(xo|=r),ke===4&&Kt(e,Oe)),He(e,n),r===1&&H===0&&!(t.mode&1)&&(jn=fe()+500,So&&hr()))}function He(e,t){var r=e.callbackNode;Jm(e,t);var n=Ui(e,e===Te?Oe:0);if(n===0)r!==null&&hc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hc(r),t===1)e.tag===0?Gv(sd.bind(null,e)):bf(sd.bind(null,e)),Zv(function(){!(H&6)&&hr()}),r=null;else{switch(Qh(n)){case 1:r=Ql;break;case 4:r=Kh;break;case 16:r=Li;break;case 536870912:r=Gh;break;default:r=Li}r=Sp(r,pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pp(e,t){if(Ni=-1,Ii=0,H&6)throw Error(O(327));var r=e.callbackNode;if(wn()&&e.callbackNode!==r)return null;var n=Ui(e,e===Te?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=no(e,n);else{t=n;var s=H;H|=2;var i=mp();(Te!==e||Oe!==t)&&(Ct=null,jn=fe()+500,Or(e,t));do try{my();break}catch(a){gp(e,a)}while(!0);cu(),eo.current=i,H=s,ge!==null?t=0:(Te=null,Oe=0,t=ke)}if(t!==0){if(t===2&&(s=Fa(e),s!==0&&(n=s,t=ml(e,s))),t===1)throw r=Os,Or(e,0),Kt(e,n),He(e,fe()),r;if(t===6)Kt(e,n);else{if(s=e.current.alternate,!(n&30)&&!py(s)&&(t=no(e,n),t===2&&(i=Fa(e),i!==0&&(n=i,t=ml(e,i))),t===1))throw r=Os,Or(e,0),Kt(e,n),He(e,fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Sr(e,Be,Ct);break;case 3:if(Kt(e,n),(n&130023424)===n&&(t=xu+500-fe(),10<t)){if(Ui(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ja(Sr.bind(null,e,Be,Ct),t);break}Sr(e,Be,Ct);break;case 4:if(Kt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-wt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fy(n/1960))-n,10<n){e.timeoutHandle=Ja(Sr.bind(null,e,Be,Ct),n);break}Sr(e,Be,Ct);break;case 5:Sr(e,Be,Ct);break;default:throw Error(O(329))}}}return He(e,fe()),e.callbackNode===r?pp.bind(null,e):null}function ml(e,t){var r=ls;return e.current.memoizedState.isDehydrated&&(Or(e,t).flags|=256),e=no(e,t),e!==2&&(t=Be,Be=r,t!==null&&vl(t)),e}function vl(e){Be===null?Be=e:Be.push.apply(Be,e)}function py(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!St(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(e,t){for(t&=~Eu,t&=~xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),n=1<<r;e[r]=-1,t&=~n}}function sd(e){if(H&6)throw Error(O(327));wn();var t=Ui(e,0);if(!(t&1))return He(e,fe()),null;var r=no(e,t);if(e.tag!==0&&r===2){var n=Fa(e);n!==0&&(t=n,r=ml(e,n))}if(r===1)throw r=Os,Or(e,0),Kt(e,t),He(e,fe()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Be,Ct),He(e,fe()),null}function Tu(e,t){var r=H;H|=1;try{return e(t)}finally{H=r,H===0&&(jn=fe()+500,So&&hr())}}function Dr(e){Qt!==null&&Qt.tag===0&&!(H&6)&&wn();var t=H;H|=1;var r=at.transition,n=K;try{if(at.transition=null,K=1,e)return e()}finally{K=n,at.transition=r,H=t,!(H&6)&&hr()}}function Pu(){Ke=hn.current,ne(hn)}function Or(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Wv(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(au(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wi();break;case 3:Tn(),ne(We),ne(Re),mu();break;case 5:gu(n);break;case 4:Tn();break;case 13:ne(ae);break;case 19:ne(ae);break;case 10:du(n.type._context);break;case 22:case 23:Pu()}r=r.return}if(Te=e,ge=e=ar(e.current,null),Oe=Ke=t,ke=0,Os=null,Eu=xo=zr=0,Be=ls=null,Tr!==null){for(t=0;t<Tr.length;t++)if(r=Tr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Tr=null}return e}function gp(e,t){do{var r=ge;try{if(cu(),Oi.current=Xi,Yi){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yi=!1}if($r=0,xe=Se=le=null,os=!1,Ts=0,bu.current=null,r===null||r.return===null){ke=1,Os=t,ge=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Zc(o);if(m!==null){m.flags&=-257,Hc(m,o,a,i,t),m.mode&1&&Wc(i,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(l),t.updateQueue=w}else y.add(l);break e}else{if(!(t&1)){Wc(i,u,t),ju();break e}l=Error(O(426))}}else if(se&&a.mode&1){var _=Zc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Hc(_,o,a,i,t),lu(Pn(l,a));break e}}i=l=Pn(l,a),ke!==4&&(ke=2),ls===null?ls=[i]:ls.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Yf(i,l,t);Lc(i,g);break e;case 1:a=l;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ir===null||!ir.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Xf(i,a,t);Lc(i,S);break e}}i=i.return}while(i!==null)}yp(r)}catch(x){t=x,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function mp(){var e=eo.current;return eo.current=Xi,e===null?Xi:e}function ju(){(ke===0||ke===3||ke===2)&&(ke=4),Te===null||!(zr&268435455)&&!(xo&268435455)||Kt(Te,Oe)}function no(e,t){var r=H;H|=2;var n=mp();(Te!==e||Oe!==t)&&(Ct=null,Or(e,t));do try{gy();break}catch(s){gp(e,s)}while(!0);if(cu(),H=r,eo.current=n,ge!==null)throw Error(O(261));return Te=null,Oe=0,ke}function gy(){for(;ge!==null;)vp(ge)}function my(){for(;ge!==null&&!Bm();)vp(ge)}function vp(e){var t=_p(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?yp(e):ge=t,bu.current=null}function yp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uy(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,ge=null;return}}else if(r=ly(r,t,Ke),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);ke===0&&(ke=5)}function Sr(e,t,r){var n=K,s=at.transition;try{at.transition=null,K=1,vy(e,t,r,n)}finally{at.transition=s,K=n}return null}function vy(e,t,r,n){do wn();while(Qt!==null);if(H&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Qm(e,i),e===Te&&(ge=Te=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ui||(ui=!0,Sp(Li,function(){return wn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=K;K=1;var a=H;H|=4,bu.current=null,dy(e,r),hp(r,e),Dv(Ka),Mi=!!qa,Ka=qa=null,e.current=r,hy(r),Fm(),H=a,K=o,at.transition=i}else e.current=r;if(ui&&(ui=!1,Qt=e,ro=s),i=e.pendingLanes,i===0&&(ir=null),Zm(r.stateNode),He(e,fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(to)throw to=!1,e=pl,pl=null,e;return ro&1&&e.tag!==0&&wn(),i=e.pendingLanes,i&1?e===gl?us++:(us=0,gl=e):us=0,hr(),null}function wn(){if(Qt!==null){var e=Qh(ro),t=at.transition,r=K;try{if(at.transition=null,K=16>e?16:e,Qt===null)var n=!1;else{if(e=Qt,Qt=null,ro=0,H&6)throw Error(O(331));var s=H;for(H|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:as(8,c,i)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var h=c.sibling,m=c.return;if(up(c),c===u){R=null;break}if(h!==null){h.return=m,R=h;break}R=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var f=e.current;for(R=f;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=f;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eo(9,a)}}catch(x){he(a,a.return,x)}if(a===o){R=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,R=S;break e}R=a.return}}if(H=s,hr(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(mo,e)}catch{}n=!0}return n}finally{K=r,at.transition=t}}return!1}function id(e,t,r){t=Pn(r,t),t=Yf(e,t,1),e=sr(e,t,1),t=De(),e!==null&&(Ms(e,1,t),He(e,t))}function he(e,t,r){if(e.tag===3)id(e,e,r);else for(;t!==null;){if(t.tag===3){id(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ir===null||!ir.has(n))){e=Pn(r,e),e=Xf(t,e,1),t=sr(t,e,1),e=De(),t!==null&&(Ms(t,1,e),He(t,e));break}}t=t.return}}function yy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&r,Te===e&&(Oe&r)===r&&(ke===4||ke===3&&(Oe&130023424)===Oe&&500>fe()-xu?Or(e,0):Eu|=r),He(e,t)}function wp(e,t){t===0&&(e.mode&1?(t=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):t=1);var r=De();e=Lt(e,t),e!==null&&(Ms(e,t,r),He(e,r))}function wy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wp(e,r)}function _y(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),wp(e,r)}var _p;_p=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Ve=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ve=!1,ay(e,t,r);Ve=!!(e.flags&131072)}else Ve=!1,se&&t.flags&1048576&&Ef(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ai(e,t),e=t.pendingProps;var s=bn(t,Re.current);yn(t,r),s=yu(null,t,n,e,s,r);var i=wu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(i=!0,Zi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fu(t),s.updater=bo,t.stateNode=s,s._reactInternals=t,nl(t,n,e,r),t=ol(null,t,n,!0,i,r)):(t.tag=0,se&&i&&ou(t),ze(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ai(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ky(n),e=pt(n,e),s){case 0:t=il(null,t,n,e,r);break e;case 1:t=Gc(null,t,n,e,r);break e;case 11:t=qc(null,t,n,e,r);break e;case 14:t=Kc(null,t,n,pt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:pt(n,s),il(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:pt(n,s),Gc(e,t,n,s,r);case 3:e:{if(np(t),e===null)throw Error(O(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Cf(e,t),Ji(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Pn(Error(O(423)),t),t=Jc(e,t,n,r,s);break e}else if(n!==s){s=Pn(Error(O(424)),t),t=Jc(e,t,n,r,s);break e}else for(Qe=nr(t.stateNode.containerInfo.firstChild),Ye=t,se=!0,yt=null,r=jf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(En(),n===s){t=Ut(e,t,r);break e}ze(e,t,n,r)}t=t.child}return t;case 5:return Af(t),e===null&&el(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ga(n,s)?o=null:i!==null&&Ga(n,i)&&(t.flags|=32),rp(e,t),ze(e,t,o,r),t.child;case 6:return e===null&&el(t),null;case 13:return sp(e,t,r);case 4:return pu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xn(t,null,n,r):ze(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:pt(n,s),qc(e,t,n,s,r);case 7:return ze(e,t,t.pendingProps,r),t.child;case 8:return ze(e,t,t.pendingProps.children,r),t.child;case 12:return ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Y(Ki,n._currentValue),n._currentValue=o,i!==null)if(St(i.value,o)){if(i.children===s.children&&!We.current){t=Ut(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=$t(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),tl(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),tl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ze(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yn(t,r),s=lt(s),n=n(s),t.flags|=1,ze(e,t,n,r),t.child;case 14:return n=t.type,s=pt(n,t.pendingProps),s=pt(n.type,s),Kc(e,t,n,s,r);case 15:return ep(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:pt(n,s),Ai(e,t),t.tag=1,Ze(n)?(e=!0,Zi(t)):e=!1,yn(t,r),Qf(t,n,s),nl(t,n,s,r),ol(null,t,n,!0,e,r);case 19:return ip(e,t,r);case 22:return tp(e,t,r)}throw Error(O(156,t.tag))};function Sp(e,t){return qh(e,t)}function Sy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,r,n){return new Sy(e,t,r,n)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ky(e){if(typeof e=="function")return Ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kl)return 11;if(e===Gl)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ri(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ou(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tn:return Cr(r.children,s,i,t);case ql:o=8,s|=8;break;case Pa:return e=ot(12,r,t,s|2),e.elementType=Pa,e.lanes=i,e;case ja:return e=ot(13,r,t,s),e.elementType=ja,e.lanes=i,e;case Oa:return e=ot(19,r,t,s),e.elementType=Oa,e.lanes=i,e;case Ch:return To(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jh:o=10;break e;case Oh:o=9;break e;case Kl:o=11;break e;case Gl:o=14;break e;case Zt:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=ot(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Cr(e,t,r,n){return e=ot(7,e,n,t),e.lanes=r,e}function To(e,t,r,n){return e=ot(22,e,n,t),e.elementType=Ch,e.lanes=r,e.stateNode={isHidden:!1},e}function ca(e,t,r){return e=ot(6,e,null,t),e.lanes=r,e}function da(e,t,r){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function by(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cu(e,t,r,n,s,i,o,a,l){return e=new by(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(i),e}function Ey(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kp(e){if(!e)return ur;e=e._reactInternals;e:{if(Br(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Ze(r))return kf(e,r,t)}return t}function bp(e,t,r,n,s,i,o,a,l){return e=Cu(r,n,!0,e,s,i,o,a,l),e.context=kp(null),r=e.current,n=De(),s=or(r),i=$t(n,s),i.callback=t??null,sr(r,i,s),e.current.lanes=s,Ms(e,s,n),He(e,n),e}function Po(e,t,r,n){var s=t.current,i=De(),o=or(s);return r=kp(r),t.context===null?t.context=r:t.pendingContext=r,t=$t(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sr(s,t,o),e!==null&&(_t(e,s,o,i),ji(e,s,o)),o}function so(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Au(e,t){od(e,t),(e=e.alternate)&&od(e,t)}function xy(){return null}var Ep=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nu(e){this._internalRoot=e}jo.prototype.render=Nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Po(e,t,null,null)};jo.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){Po(null,e,null,null)}),t[Dt]=null}};function jo(e){this._internalRoot=e}jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ef();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qt.length&&t!==0&&t<qt[r].priority;r++);qt.splice(r,0,e),r===0&&rf(e)}};function Iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ad(){}function Ty(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=so(o);i.call(u)}}var o=bp(t,n,e,0,null,!1,!1,"",ad);return e._reactRootContainer=o,e[Dt]=o.current,Ss(e.nodeType===8?e.parentNode:e),Dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=so(l);a.call(u)}}var l=Cu(e,0,!1,null,null,!1,!1,"",ad);return e._reactRootContainer=l,e[Dt]=l.current,Ss(e.nodeType===8?e.parentNode:e),Dr(function(){Po(t,l,r,n)}),l}function Co(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=so(o);a.call(l)}}Po(t,o,e,s)}else o=Ty(r,t,e,s,n);return so(o)}Yh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qn(t.pendingLanes);r!==0&&(Yl(t,r|1),He(t,fe()),!(H&6)&&(jn=fe()+500,hr()))}break;case 13:Dr(function(){var n=Lt(e,1);if(n!==null){var s=De();_t(n,e,1,s)}}),Au(e,1)}};Xl=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var r=De();_t(t,e,134217728,r)}Au(e,134217728)}};Xh=function(e){if(e.tag===13){var t=or(e),r=Lt(e,t);if(r!==null){var n=De();_t(r,e,t,n)}Au(e,t)}};ef=function(){return K};tf=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};Ua=function(e,t,r){switch(t){case"input":if(Na(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=_o(n);if(!s)throw Error(O(90));Nh(n),Na(n,s)}}}break;case"textarea":Rh(e,r);break;case"select":t=r.value,t!=null&&pn(e,!!r.multiple,t,!1)}};Bh=Tu;Fh=Dr;var Py={usingClientEntryPoint:!1,Events:[Fs,on,_o,Uh,Mh,Tu]},Kn={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jy={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zh(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||xy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{mo=ci.inject(jy),Tt=ci}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py;et.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(t))throw Error(O(200));return Ey(e,t,null,r)};et.createRoot=function(e,t){if(!Iu(e))throw Error(O(299));var r=!1,n="",s=Ep;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cu(e,1,!1,null,null,r,!1,n,s),e[Dt]=t.current,Ss(e.nodeType===8?e.parentNode:e),new Nu(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Zh(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Dr(e)};et.hydrate=function(e,t,r){if(!Oo(t))throw Error(O(200));return Co(null,e,t,!0,r)};et.hydrateRoot=function(e,t,r){if(!Iu(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Ep;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=bp(t,null,e,1,r??null,s,!1,i,o),e[Dt]=t.current,Ss(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new jo(t)};et.render=function(e,t,r){if(!Oo(t))throw Error(O(200));return Co(null,e,t,!1,r)};et.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(O(40));return e._reactRootContainer?(Dr(function(){Co(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1};et.unstable_batchedUpdates=Tu;et.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Oo(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Co(e,t,r,!1,n)};et.version="18.3.1-next-f1338f8080-20240426";function xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xp)}catch(e){console.error(e)}}xp(),Eh.exports=et;var Ix=Eh.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const ld="popstate";function Oy(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return yl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pp(s)}return Ay(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cy(){return Math.random().toString(36).substr(2,8)}function ud(e,t){return{usr:e.state,key:e.key,idx:t}}function yl(e,t,r,n){return r===void 0&&(r=null),Cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rn(t):t,{state:r,key:t&&t.key||n||Cy()})}function Pp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ay(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Yt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Cs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Yt.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:g})}function h(_,g){a=Yt.Push;let f=yl(w.location,_,g);u=c()+1;let p=ud(f,u),S=w.createHref(f);try{o.pushState(p,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(S)}i&&l&&l({action:a,location:w.location,delta:1})}function m(_,g){a=Yt.Replace;let f=yl(w.location,_,g);u=c();let p=ud(f,u),S=w.createHref(f);o.replaceState(p,"",S),i&&l&&l({action:a,location:w.location,delta:0})}function y(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof _=="string"?_:Pp(_);return f=f.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let w={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ld,d),l=_,()=>{s.removeEventListener(ld,d),l=null}},createHref(_){return t(s,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(_){return o.go(_)}};return w}var cd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cd||(cd={}));function Ny(e,t,r){return r===void 0&&(r="/"),Iy(e,t,r)}function Iy(e,t,r,n){let s=typeof t=="string"?Rn(t):t,i=Cp(s.pathname||"/",r);if(i==null)return null;let o=jp(e);Ry(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Hy(i);a=Vy(o[l],u)}return a}function jp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ar([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jp(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:By(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Op(i.path))s(i,o,l)}),t}function Op(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Op(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ry(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Fy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $y=/^:[\w-]+$/,zy=3,Dy=2,Ly=1,Uy=10,My=-2,dd=e=>e==="*";function By(e,t){let r=e.split("/"),n=r.length;return r.some(dd)&&(n+=My),t&&(n+=Dy),r.filter(s=>!dd(s)).reduce((s,i)=>s+($y.test(i)?zy:i===""?Ly:Uy),n)}function Fy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Vy(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Wy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ar([i,d.pathname]),pathnameBase:Jy(Ar([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ar([i,d.pathnameBase]))}return o}function Wy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zy(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Zy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Tp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Hy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function qy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Rn(e):e;return{pathname:r?r.startsWith("/")?r:Ky(r,t):t,search:Qy(n),hash:Yy(s)}}function Ky(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ha(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ap(e,t){let r=Gy(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Np(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Rn(e):(s=Cs({},e),me(!s.pathname||!s.pathname.includes("?"),ha("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),ha("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),ha("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=qy(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ar=e=>e.join("/").replace(/\/\/+/g,"/"),Jy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ip=["post","put","patch","delete"];new Set(Ip);const e0=["get",...Ip];new Set(e0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}const Ru=k.createContext(null),t0=k.createContext(null),Ws=k.createContext(null),Ao=k.createContext(null),Fr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Rp=k.createContext(null);function Zs(){return k.useContext(Ao)!=null}function $u(){return Zs()||me(!1),k.useContext(Ao).location}function $p(e){k.useContext(Ws).static||k.useLayoutEffect(e)}function zp(){let{isDataRoute:e}=k.useContext(Fr);return e?p0():r0()}function r0(){Zs()||me(!1);let e=k.useContext(Ru),{basename:t,future:r,navigator:n}=k.useContext(Ws),{matches:s}=k.useContext(Fr),{pathname:i}=$u(),o=JSON.stringify(Ap(s,r.v7_relativeSplatPath)),a=k.useRef(!1);return $p(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Np(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ar([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,i,e])}function n0(e,t){return s0(e,t)}function s0(e,t,r,n){Zs()||me(!1);let{navigator:s}=k.useContext(Ws),{matches:i}=k.useContext(Fr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=$u(),c;if(t){var d;let _=typeof t=="string"?Rn(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||me(!1),c=_}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Ny(e,{pathname:m}),w=u0(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ar([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ar([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&w?k.createElement(Ao.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Yt.Pop}},w):w}function i0(){let e=f0(),t=Xy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const o0=k.createElement(i0,null);class a0 extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Fr.Provider,{value:this.props.routeContext},k.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l0(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(Ru);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Fr.Provider,{value:t},n)}function u0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||me(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,y=!1,w=null,_=null;r&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||o0,l&&(u<0&&h===0?(g0("route-fallback"),y=!0,_=null):u===h&&(y=!0,_=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),f=()=>{let p;return m?p=w:y?p=_:d.route.Component?p=k.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,k.createElement(l0,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?k.createElement(a0,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var Dp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dp||{}),Lp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lp||{});function c0(e){let t=k.useContext(Ru);return t||me(!1),t}function d0(e){let t=k.useContext(t0);return t||me(!1),t}function h0(e){let t=k.useContext(Fr);return t||me(!1),t}function Up(e){let t=h0(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function f0(){var e;let t=k.useContext(Rp),r=d0(),n=Up();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function p0(){let{router:e}=c0(Dp.UseNavigateStable),t=Up(Lp.UseNavigateStable),r=k.useRef(!1);return $p(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,As({fromRouteId:t},i)))},[e,t])}const hd={};function g0(e,t,r){hd[e]||(hd[e]=!0)}function m0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rx(e){let{to:t,replace:r,state:n,relative:s}=e;Zs()||me(!1);let{future:i,static:o}=k.useContext(Ws),{matches:a}=k.useContext(Fr),{pathname:l}=$u(),u=zp(),c=Np(t,Ap(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return k.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function v0(e){me(!1)}function y0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Yt.Pop,navigator:i,static:o=!1,future:a}=e;Zs()&&me(!1);let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:i,static:o,future:As({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Rn(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:y="default"}=n,w=k.useMemo(()=>{let _=Cp(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:m,key:y},navigationType:s}},[l,c,d,h,m,y,s]);return w==null?null:k.createElement(Ws.Provider,{value:u},k.createElement(Ao.Provider,{children:r,value:w}))}function $x(e){let{children:t,location:r}=e;return n0(wl(t),r)}new Promise(()=>{});function wl(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,wl(n.props.children,i));return}n.type!==v0&&me(!1),!n.props.index||!n.props.children||me(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wl(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const w0="6";try{window.__reactRouterVersion=w0}catch{}const _0="startTransition",fd=pm[_0];function zx(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=Oy({window:s,v5Compat:!0}));let o=i.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=k.useCallback(d=>{u&&fd?fd(()=>l(d)):l(d)},[l,u]);return k.useLayoutEffect(()=>o.listen(c),[o,c]),k.useEffect(()=>m0(n),[n]),k.createElement(y0,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var pd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pd||(pd={}));var gd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gd||(gd={}));var _l=function(e,t){return _l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},_l(e,t)};function Mp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var io=function(){return io=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},io.apply(this,arguments)};function $n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Bp(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Fp(e,t){return function(r,n){t(r,n,e)}}function Vp(e,t,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,h=!1,m=r.length-1;m>=0;m--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var _=(0,r[m])(a==="accessor"?{get:c.get,set:c.set}:c[l],y);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=o(_.get))&&(c.get=d),(d=o(_.set))&&(c.set=d),(d=o(_.init))&&s.unshift(d)}else(d=o(_))&&(a==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,n.name,c),h=!0}function Wp(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Zp(e){return typeof e=="symbol"?e:"".concat(e)}function Hp(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function qp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function $(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function Kp(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var No=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Gp(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&No(t,e,r)}function oo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zu(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Jp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zu(arguments[t]));return e}function Qp(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Yp(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function On(e){return this instanceof On?(this.v=e,this):new On(e)}function Xp(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(y){return Promise.resolve(y).then(m,d)}}function a(m,y){n[m]&&(s[m]=function(w){return new Promise(function(_,g){i.push([m,w,_,g])>1||l(m,w)})},y&&(s[m]=y(s[m])))}function l(m,y){try{u(n[m](y))}catch(w){h(i[0][3],w)}}function u(m){m.value instanceof On?Promise.resolve(m.value.v).then(c,d):h(i[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function h(m,y){m(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function eg(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:On(e[s](o)),done:!1}:i?i(o):o}:i}}function tg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof oo=="function"?oo(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function rg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S0=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Sl=function(e){return Sl=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Sl(e)};function ng(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Sl(e),n=0;n<r.length;n++)r[n]!=="default"&&No(t,e,r[n]);return S0(t,e),t}function sg(e){return e&&e.__esModule?e:{default:e}}function ig(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function og(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function ag(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function lg(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var k0=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function ug(e){function t(i){e.error=e.hasError?new k0(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function cg(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const b0={__extends:Mp,__assign:io,__rest:$n,__decorate:Bp,__param:Fp,__esDecorate:Vp,__runInitializers:Wp,__propKey:Zp,__setFunctionName:Hp,__metadata:qp,__awaiter:$,__generator:Kp,__createBinding:No,__exportStar:Gp,__values:oo,__read:zu,__spread:Jp,__spreadArrays:Qp,__spreadArray:Yp,__await:On,__asyncGenerator:Xp,__asyncDelegator:eg,__asyncValues:tg,__makeTemplateObject:rg,__importStar:ng,__importDefault:sg,__classPrivateFieldGet:ig,__classPrivateFieldSet:og,__classPrivateFieldIn:ag,__addDisposableResource:lg,__disposeResources:ug,__rewriteRelativeImportExtension:cg},E0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lg,get __assign(){return io},__asyncDelegator:eg,__asyncGenerator:Xp,__asyncValues:tg,__await:On,__awaiter:$,__classPrivateFieldGet:ig,__classPrivateFieldIn:ag,__classPrivateFieldSet:og,__createBinding:No,__decorate:Bp,__disposeResources:ug,__esDecorate:Vp,__exportStar:Gp,__extends:Mp,__generator:Kp,__importDefault:sg,__importStar:ng,__makeTemplateObject:rg,__metadata:qp,__param:Fp,__propKey:Zp,__read:zu,__rest:$n,__rewriteRelativeImportExtension:cg,__runInitializers:Wp,__setFunctionName:Hp,__spread:Jp,__spreadArray:Yp,__spreadArrays:Qp,__values:oo,default:b0},Symbol.toStringTag,{value:"Module"})),x0="modulepreload",T0=function(e){return"/"+e},md={},zn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=T0(l),l in md)return;md[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":x0,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},P0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>zn(async()=>{const{default:n}=await Promise.resolve().then(()=>Vr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Du extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class vd extends Du{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yd extends Du{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wd extends Du{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kl||(kl={}));class j0{constructor(t,{headers:r={},customFetch:n,region:s=kl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=P0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let u={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${r}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;const m=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new vd(g)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new yd(m);if(!m.ok)throw new wd(m);let w=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield m.json():w==="application/octet-stream"||w==="application/pdf"?_=yield m.blob():w==="text/event-stream"?_=m:w==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new vd(i)}:{data:null,error:i,response:i instanceof wd||i instanceof yd?i.context:void 0}}})}}var Fe={};const Dn=wh(E0);var di={},hi={},fi={},pi={},gi={},O0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cn=O0();const C0=Cn.fetch,dg=Cn.fetch.bind(Cn),hg=Cn.Headers,A0=Cn.Request,N0=Cn.Response,Vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:hg,Request:A0,Response:N0,default:dg,fetch:C0},Symbol.toStringTag,{value:"Module"})),I0=wh(Vr);var mi={},_d;function fg(){if(_d)return mi;_d=1,Object.defineProperty(mi,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return mi.default=e,mi}var Sd;function pg(){if(Sd)return gi;Sd=1,Object.defineProperty(gi,"__esModule",{value:!0});const e=Dn,t=e.__importDefault(I0),r=e.__importDefault(fg());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,h,m;let y=null,w=null,_=null,g=u.status,f=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?w=E:w=JSON.parse(E))}const S=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),x=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");S&&x&&x.length>1&&(_=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,g=406,f="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await u.text();try{y=JSON.parse(S),Array.isArray(y)&&u.status===404&&(w=[],y=null,g=200,f="OK")}catch{u.status===404&&S===""?(g=204,f="No Content"):y={message:S}}if(y&&this.isMaybeSingle&&(!((m=y==null?void 0:y.details)===null||m===void 0)&&m.includes("0 rows"))&&(y=null,g=200,f="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:w,count:_,status:g,statusText:f}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return gi.default=n,gi}var kd;function gg(){if(kd)return pi;kd=1,Object.defineProperty(pi,"__esModule",{value:!0});const t=Dn.__importDefault(pg());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return pi.default=r,pi}var bd;function Lu(){if(bd)return fi;bd=1,Object.defineProperty(fi,"__esModule",{value:!0});const t=Dn.__importDefault(gg());class r extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return fi.default=r,fi}var Ed;function mg(){if(Ed)return hi;Ed=1,Object.defineProperty(hi,"__esModule",{value:!0});const t=Dn.__importDefault(Lu());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return hi.default=r,hi}var xd;function R0(){if(xd)return di;xd=1,Object.defineProperty(di,"__esModule",{value:!0});const e=Dn,t=e.__importDefault(mg()),r=e.__importDefault(Lu());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let m;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{h.searchParams.append(w,_)})):(d="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:d,url:h,headers:y,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return di.default=n,di}Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const Ln=Dn,vg=Ln.__importDefault(R0());Fe.PostgrestClient=vg.default;const yg=Ln.__importDefault(mg());Fe.PostgrestQueryBuilder=yg.default;const wg=Ln.__importDefault(Lu());Fe.PostgrestFilterBuilder=wg.default;const _g=Ln.__importDefault(gg());Fe.PostgrestTransformBuilder=_g.default;const Sg=Ln.__importDefault(pg());Fe.PostgrestBuilder=Sg.default;const kg=Ln.__importDefault(fg());Fe.PostgrestError=kg.default;var $0=Fe.default={PostgrestClient:vg.default,PostgrestQueryBuilder:yg.default,PostgrestFilterBuilder:wg.default,PostgrestTransformBuilder:_g.default,PostgrestBuilder:Sg.default,PostgrestError:kg.default};const{PostgrestClient:z0,PostgrestQueryBuilder:Dx,PostgrestFilterBuilder:Lx,PostgrestTransformBuilder:Ux,PostgrestBuilder:Mx,PostgrestError:Bx}=$0;class D0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const L0="2.76.0",U0=`realtime-js/${L0}`,M0="1.0.0",bl=1e4,B0=1e3,F0=100;var cs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cs||(cs={}));var _e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_e||(_e={}));var vt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vt||(vt={}));var El;(function(e){e.websocket="websocket"})(El||(El={}));var br;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(br||(br={}));class V0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class bg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Q||(Q={}));const Td=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=W0(o,e,t,s),i),{}):{}},W0=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Eg(i,o):xl(o)},Eg=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return K0(t,r)}switch(e){case Q.bool:return Z0(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return H0(t);case Q.json:case Q.jsonb:return q0(t);case Q.timestamp:return G0(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return xl(t);default:return xl(t)}},xl=e=>e,Z0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},H0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},q0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},K0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Eg(t,a))}return e},G0=e=>typeof e=="string"?e.replace(" ","T"):e,xg=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fa{constructor(t,r,n={},s=bl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pd||(Pd={}));class ds{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ds.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ds.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ds.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(_=>_.presence_ref),m=d.map(_=>_.presence_ref),y=c.filter(_=>m.indexOf(_.presence_ref)<0),w=d.filter(_=>h.indexOf(_.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jd||(jd={}));var hs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hs||(hs={}));var At;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class Uu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fa(this,vt.join,this.params,this.timeout),this.rejoinTimer=new bg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ds(this),this.broadcastEndpointURL=xg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[hs.PRESENCE]&&this.bindings[hs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(At.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(At.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(At.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<_;f++){const p=w[f],{filter:{event:S,schema:x,table:E,filter:C}}=p,I=m&&m[f];if(I&&I.event===S&&I.schema===x&&I.table===E&&I.filter===C)g.push(Object.assign(Object.assign({},p),{id:I.id}));else{this.unsubscribe(),this.state=_e.errored,t==null||t(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(At.SUBSCRIBED);return}}).receive("error",m=>{this.state=_e.errored,t==null||t(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===_e.joined&&t===hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fa(this,vt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fa(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>F0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=vt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,w,_;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,_,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,x=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(f=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return S==="*"||S===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:_,commit_timestamp:g,type:f,errors:p}=y;h=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Uu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Td(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Td(t.columns,t.old_record)),r}}const pa=()=>{},vi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J0=[1e3,2e3,5e3,1e4],Q0=1e4,Y0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X0{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bl,this.transport=null,this.heartbeatIntervalMs=vi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pa,this.ref=0,this.reconnectTimer=null,this.logger=pa,this.conn=null,this.sendBuffer=[],this.serializer=new V0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>zn(async()=>{const{default:a}=await Promise.resolve().then(()=>Vr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${El.websocket}`,this.httpEndpoint=xg(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M0}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cs.connecting:return br.Connecting;case cs.open:return br.Open;case cs.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Uu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(B0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Y0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:U0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(vt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:bl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:vi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:pa,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>J0[d-1]||Q0,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Mu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ew extends Mu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tl extends Mu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Bu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>zn(async()=>{const{default:n}=await Promise.resolve().then(()=>Vr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},tw=()=>$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zn(()=>Promise.resolve().then(()=>Vr),void 0)).Response:Response}),Pl=e=>{if(Array.isArray(e))return e.map(r=>Pl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Pl(n)}),t},rw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nw=(e,t,r)=>$(void 0,void 0,void 0,function*(){const n=yield tw();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new ew(ga(s),i,o))}).catch(s=>{t(new Tl(ga(s),s))}):t(new Tl(ga(e),e))}),sw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(rw(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Hs(e,t,r,n,s,i){return $(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,sw(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nw(l,a,n))})})}function Ns(e,t,r,n){return $(this,void 0,void 0,function*(){return Hs(e,"GET",t,r,n)})}function gt(e,t,r,n,s){return $(this,void 0,void 0,function*(){return Hs(e,"POST",t,n,s,r)})}function jl(e,t,r,n,s){return $(this,void 0,void 0,function*(){return Hs(e,"PUT",t,n,s,r)})}function iw(e,t,r,n){return $(this,void 0,void 0,function*(){return Hs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fu(e,t,r,n,s){return $(this,void 0,void 0,function*(){return Hs(e,"DELETE",t,n,s,r)})}class ow{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return $(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}}var Tg;class aw{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Tg]="BlobDownloadBuilder",this.promise=null}asStream(){return new ow(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}}Tg=Symbol.toStringTag;const lw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Od={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uw{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Bu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return $(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Od),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(t=="PUT"?jl:gt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return $(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Od.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield jl(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return $(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Mu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}update(t,r,n){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return $(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return $(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return $(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return $(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Ns(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new aw(l,this.shouldThrowOnError)}info(t){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ns(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}exists(t){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n)&&n instanceof Tl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return $(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}list(t,r,n){return $(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},lw),r),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}listV2(t,r){return $(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Pg="2.76.0",jg={"X-Client-Info":`storage-js/${Pg}`};class cw{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jg),r),this.fetch=Bu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return $(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}getBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}createBucket(t){return $(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return $(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}}class dw{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jg),r),this.fetch=Bu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listBuckets(t){return $(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield Ns(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}}const Vu={"X-Client-Info":`storage-js/${Pg}`,"Content-Type":"application/json"};class Og extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ma extends Og{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hw extends Og{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Cd;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cd||(Cd={}));const Wu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>zn(async()=>{const{default:n}=await Promise.resolve().then(()=>Vr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ad=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pw=(e,t,r)=>$(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new ma(Ad(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new ma(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new ma(a,s,o))}}else t(new hw(Ad(e),e))}),gw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(fw(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function mw(e,t,r,n,s,i){return $(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,gw(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>pw(l,a,n))})})}function Je(e,t,r,n,s){return $(this,void 0,void 0,function*(){return mw(e,"POST",t,n,s,r)})}class vw{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vu),r),this.fetch=Wu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return $(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}getIndex(t,r){return $(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}listIndexes(t){return $(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return $(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}class yw{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vu),r),this.fetch=Wu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return $(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}getVectors(t){return $(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listVectors(t){return $(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Je(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}queryVectors(t){return $(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteVectors(t){return $(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}class ww{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vu),r),this.fetch=Wu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return $(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}getBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listBuckets(){return $(this,arguments,void 0,function*(t={}){try{return{data:yield Je(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}class _w extends ww{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Sw(this.url,this.headers,t,this.fetch)}}class Sw extends vw{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new kw(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class kw extends yw{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bw extends cw{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new uw(this.url,this.headers,t,this.fetch)}get vectors(){return new _w(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dw(this.url+"/iceberg",this.headers,this.fetch)}}const Ew="2.76.0";let Xn="";typeof Deno<"u"?Xn="deno":typeof document<"u"?Xn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xn="react-native":Xn="node";const xw={"X-Client-Info":`supabase-js-${Xn}/${Ew}`},Tw={headers:xw},Pw={schema:"public"},jw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ow={},Cw=e=>{let t;return e?t=e:typeof fetch>"u"?t=dg:t=fetch,(...r)=>t(...r)},Aw=()=>typeof Headers>"u"?hg:Headers,Nw=(e,t,r)=>{const n=Cw(r),s=Aw();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Iw(e){return e.endsWith("/")?e:e+"/"}function Rw(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function $w(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Iw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Cg="2.76.0",Yr=30*1e3,Ol=3,va=Ol*Yr,zw="http://localhost:9999",Dw="supabase.auth.token",Lw={"X-Client-Info":`gotrue-js/${Cg}`},Cl="X-Supabase-Api-Version",Ag={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mw=10*60*1e3;class Is extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Bw extends Is{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fw(e){return z(e)&&e.name==="AuthApiError"}class Er extends Is{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fr extends Is{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Wt extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vw(e){return z(e)&&e.name==="AuthSessionMissingError"}class qr extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yi extends fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wi extends fr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ww(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class Nd extends fr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Al extends fr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ya(e){return z(e)&&e.name==="AuthRetryableFetchError"}class Id extends fr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nl extends fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rd=` 	
\r=`.split(""),Zw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rd.length;t+=1)e[Rd[t].charCodeAt(0)]=-2;for(let t=0;t<ao.length;t+=1)e[ao[t].charCodeAt(0)]=t;return e})();function $d(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ao[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ao[n]),t.queuedBits-=6}}function Ng(e,t,r){const n=Zw[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zd(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Kw(o,n,r)};for(let o=0;o<e.length;o+=1)Ng(e.charCodeAt(o),s,i);return t.join("")}function Hw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qw(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Hw(n,t)}}function Kw(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _n(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ng(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Gw(e){const t=[];return qw(e,r=>t.push(r)),new Uint8Array(t)}function jr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>$d(s,r,n)),$d(null,r,n),t.join("")}function Jw(e){return Math.round(Date.now()/1e3)+e}function Qw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},Ig=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function Yw(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Rg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>zn(async()=>{const{default:n}=await Promise.resolve().then(()=>Vr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Xw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vt=async(e,t)=>{await e.removeItem(t)};class Io{constructor(){this.promise=new Io.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Io.promiseConstructor=Promise;function wa(e){const t=e.split(".");if(t.length!==3)throw new Nl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Uw.test(t[n]))throw new Nl("JWT not in base64url format");return{header:JSON.parse(zd(t[0])),payload:JSON.parse(zd(t[1])),signature:_n(t[2]),raw:{header:t[0],payload:t[1]}}}async function e_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function t_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function r_(e){return("0"+e.toString(16)).substr(-2)}function n_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,r_).join("")}async function s_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function i_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await s_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(e,t,r=!1){const n=n_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xr(e,`${t}-code-verifier`,s);const i=await i_(n);return[i,n===i?"plain":"s256"]}const o_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a_(e){const t=e.headers.get(Cl);if(!t||!t.match(o_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function u_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gr(e){if(!c_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _a(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dd(e){return JSON.parse(JSON.stringify(e))}const kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d_=[502,503,504];async function Ld(e){var t;if(!Xw(e))throw new Al(kr(e),0);if(d_.includes(e.status))throw new Al(kr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Er(kr(i),i)}let n;const s=a_(e);if(s&&s.getTime()>=Ag["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Id(kr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Wt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Id(kr(r),e.status,r.weak_password.reasons);throw new Bw(kr(r),e.status||500,n)}const h_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Cl]||(i[Cl]=Ag["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await f_(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function f_(e,t,r,n,s,i){const o=h_(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Al(kr(l),0)}if(a.ok||await Ld(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Ld(l)}}function ft(e){var t;let r=null;m_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Jw(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ud(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function p_(e){return{data:e,error:null}}function g_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=$n(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Md(e){return e}function m_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sa=["global","local","others"];class v_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Rg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Sa[0]){if(Sa.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sa.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$n(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:g_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Md});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Gr(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gr(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gr(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gr(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gr(t.userId),Gr(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Md});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}}function Bd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Jr={debug:!!(globalThis&&Ig()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $g extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class y_ extends $g{}async function w_(e,t,r){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new y_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function __(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function S_(e){return parseInt(e,16)}function k_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function b_(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=zg(e.address),y=c?`${c}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);f+=`
- ${p}`}g+=f}return`${_}
${g}`}class pe extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class lo extends pe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function E_({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new pe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Dg(o)){if(i.rp.id!==o)return new pe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function x_({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new pe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Dg(n)){if(r.rpId!==n)return new pe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class T_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const P_=new T_;function j_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=$n(e,["challenge","user","excludeCredentials"]),i=_n(t).buffer,o=Object.assign(Object.assign({},r),{id:_n(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:_n(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function O_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=$n(e,["challenge","allowCredentials"]),s=_n(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:_n(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function C_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jr(new Uint8Array(e.response.attestationObject)),clientDataJSON:jr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function A_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jr(new Uint8Array(s.authenticatorData)),clientDataJSON:jr(new Uint8Array(s.clientDataJSON)),signature:jr(new Uint8Array(s.signature)),userHandle:s.userHandle?jr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Dg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Fd(){var e,t;return!!(qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function N_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lo("Browser returned unexpected credential type",t)}:{data:null,error:new lo("Empty credential response",t)}}catch(t){return{data:null,error:E_({error:t,options:e})}}}async function I_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lo("Browser returned unexpected credential type",t)}:{data:null,error:new lo("Empty credential response",t)}}catch(t){return{data:null,error:x_({error:t,options:e})}}}const R_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},$_={userVerification:"preferred",hints:["security-key"]};function uo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=uo(a,o):n[i]=uo(o)}else n[i]=o}return n}function z_(e,t){return uo(R_,e,t||{})}function D_(e,t){return uo($_,e,t||{})}class L_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??P_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=z_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await N_({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=D_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await I_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!Fd())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!Fd())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in register",o)}}}}__();const U_={url:zw,storageKey:Dw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vd(e,t,r){return await r()}const Qr={};class Rs{get jwks(){var t,r;return(r=(t=Qr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rs.nextInstanceID,Rs.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},U_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new v_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rg(s.fetch),this.lock=s.lock||Vd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=w_:this.lock=Vd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L_(this)},this.persistSession?(s.storage?this.storage=s.storage:Ig()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Bd(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Yw(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ww(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new Er("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Kr(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:ft})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new yi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ud})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ud})}else throw new yi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new qr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,c,d,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:w,wallet:_,statement:g,options:f}=t;let p;if(qe())if(typeof _=="object")p=_;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")p=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=_}const S=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),x=await p.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=zg(x[0]);let C=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const F=await p.request({method:"eth_chainId"});C=S_(F)}const I={domain:S.host,address:E,statement:g,uri:S.href,version:"1",chainId:C,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=b_(I),y=await p.request({method:"personal_sign",params:[k_(m),E]})}try{const{data:w,error:_}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ft});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new qr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(z(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,c,d,h,m;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:f,options:p}=t;let S;if(qe())if(typeof g=="object")S=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:_,error:g}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:jr(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ft});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new qr}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(z(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await yr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ft});if(await Vt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new qr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Kr(this.storage,this.storageKey));const{error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new yi("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Kr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:p_})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Wt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new yi("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<va:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await yr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_a()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(r){if(z(r))return Vw(r)&&(await this._removeSession(),await Vt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Wt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Kr(this.storage,this.storageKey));const{data:u,error:c}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Gt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=wa(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Wt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!qe())throw new wi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Nd("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new wi("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Fw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Vt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Qw(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Kr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ft}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new qr}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await t_(async s=>(s>0&&await e_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ya(i)&&Date.now()+o-n<Yr})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await yr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Xr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_a()}else if(s&&!s.user&&!s.user){const o=await yr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Vt(this.storage,this.storageKey+"-user"),await Xr(this.storage,this.storageKey,s)):s.user=_a()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<va;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${va}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ya(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Io;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),z(i)){const o={data:null,error:i};return ya(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Dd(s);await Xr(this.storage,this.storageKey,i)}else{const s=Dd(r);await Xr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Vt(this.storage,this.storageKey),await Vt(this.storage,this.storageKey+"-code-verifier"),await Vt(this.storage,this.storageKey+"-user"),this.userStorage&&await Vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yr}ms, refresh threshold is ${Ol} ticks`),s<=Ol&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $g)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Kr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?C_(t.webauthn.credential_response):A_(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:j_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:O_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wa(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Mw>s)return n;const{data:i,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=wa(n);r!=null&&r.allowExpired||l_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=u_(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Gw(`${a}.${l}`)))throw new Nl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}Rs.nextInstanceID=0;const M_=Rs;class B_ extends M_{constructor(t){super(t)}}class F_{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=$w(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Pw,realtime:Ow,auth:Object.assign(Object.assign({},jw),{storageKey:l}),global:Tw},c=Rw(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Nw(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new z0(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new bw(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new j0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new X0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const V_=(e,t,r)=>new F_(e,t,r);function W_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}W_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function P(e,t,r){function n(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),t(a,l);for(const c in o.prototype)c in a||Object.defineProperty(a,c,{value:o.prototype[c].bind(a)});a._zod.constr=o,a._zod.def=l}const s=(r==null?void 0:r.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(a){var l;const u=r!=null&&r.Parent?new i:this;n(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var l,u;return r!=null&&r.Parent&&a instanceof r.Parent?!0:(u=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class Sn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Lg extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Ug={};function Lr(e){return Ug}function Z_(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function Il(e,t){return typeof t=="bigint"?t.toString():t}function Zu(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Hu(e){return e==null}function qu(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const Wd=Symbol("evaluating");function X(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==Wd)return n===void 0&&(n=Wd,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Wr(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Zr(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Zd(e){return JSON.stringify(e)}const Mg="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function co(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const H_=Zu(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function $s(e){if(co(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(co(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Bg(e){return $s(e)?{...e}:Array.isArray(e)?[...e]:e}const q_=new Set(["string","number","symbol"]);function An(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pr(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function U(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function K_(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function G_(e,t){const r=e._zod.def,n=Zr(e._zod.def,{get shape(){const s={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(s[i]=r.shape[i])}return Wr(this,"shape",s),s},checks:[]});return pr(e,n)}function J_(e,t){const r=e._zod.def,n=Zr(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete s[i]}return Wr(this,"shape",s),s},checks:[]});return pr(e,n)}function Q_(e,t){if(!$s(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Zr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Wr(this,"shape",i),i},checks:[]});return pr(e,s)}function Y_(e,t){if(!$s(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Wr(this,"shape",n),n},checks:e._zod.def.checks};return pr(e,r)}function X_(e,t){const r=Zr(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Wr(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return pr(e,r)}function eS(e,t,r){const n=Zr(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=e?new e({type:"optional",innerType:s[o]}):s[o];return Wr(this,"shape",i),i},checks:[]});return pr(t,n)}function tS(e,t,r){const n=Zr(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return Wr(this,"shape",i),i},checks:[]});return pr(t,n)}function fn(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function Fg(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function _i(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ur(e,t,r){var s,i,o,a,l,u;const n={...e,path:e.path??[]};if(!e.message){const c=_i((o=(i=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??_i((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??_i((l=r.customError)==null?void 0:l.call(r,e))??_i((u=r.localeError)==null?void 0:u.call(r,e))??"Invalid input";n.message=c}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function Ku(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function zs(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const Vg=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Il,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Wg=P("$ZodError",Vg),Zg=P("$ZodError",Vg,{Parent:Error});function rS(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function nS(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>n({issues:o}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let o=r,a=0;for(;a<i.path.length;){const l=i.path[a];a===i.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(t(i))):o[l]=o[l]||{_errors:[]},o=o[l],a++}}};return n(e),r}const Gu=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Sn;if(o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>Ur(l,i,Lr())));throw Mg(a,s==null?void 0:s.callee),a}return o.value},Ju=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>Ur(l,i,Lr())));throw Mg(a,s==null?void 0:s.callee),a}return o.value},Ro=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new Sn;return i.issues.length?{success:!1,error:new(e??Wg)(i.issues.map(o=>Ur(o,s,Lr())))}:{success:!0,data:i.value}},sS=Ro(Zg),$o=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>Ur(o,s,Lr())))}:{success:!0,data:i.value}},iS=$o(Zg),oS=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Gu(e)(t,r,s)},aS=e=>(t,r,n)=>Gu(e)(t,r,n),lS=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ju(e)(t,r,s)},uS=e=>async(t,r,n)=>Ju(e)(t,r,n),cS=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ro(e)(t,r,s)},dS=e=>(t,r,n)=>Ro(e)(t,r,n),hS=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return $o(e)(t,r,s)},fS=e=>async(t,r,n)=>$o(e)(t,r,n),pS=/^[cC][^\s-]{8,}$/,gS=/^[0-9a-z]+$/,mS=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,vS=/^[0-9a-vA-V]{20}$/,yS=/^[A-Za-z0-9]{27}$/,wS=/^[a-zA-Z0-9_-]{21}$/,_S=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,SS=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Hd=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,kS=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,bS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ES(){return new RegExp(bS,"u")}const xS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,PS=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,jS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OS=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Hg=/^[A-Za-z0-9_-]*$/,CS=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,AS=/^\+(?:[0-9]){6,14}[0-9]$/,qg="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",NS=new RegExp(`^${qg}$`);function Kg(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function IS(e){return new RegExp(`^${Kg(e)}$`)}function RS(e){const t=Kg({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${qg}T(?:${n})$`)}const $S=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},zS=/^[^A-Z]*$/,DS=/^[^a-z]*$/,jt=P("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),LS=P("$ZodCheckMaxLength",(e,t)=>{var r;jt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Hu(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const o=Ku(s);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),US=P("$ZodCheckMinLength",(e,t)=>{var r;jt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Hu(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const o=Ku(s);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),MS=P("$ZodCheckLengthEquals",(e,t)=>{var r;jt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Hu(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const o=Ku(s),a=i>t.length;n.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),zo=P("$ZodCheckStringFormat",(e,t)=>{var r,n;jt.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),BS=P("$ZodCheckRegex",(e,t)=>{zo.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),FS=P("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=zS),zo.init(e,t)}),VS=P("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=DS),zo.init(e,t)}),WS=P("$ZodCheckIncludes",(e,t)=>{jt.init(e,t);const r=An(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),ZS=P("$ZodCheckStartsWith",(e,t)=>{jt.init(e,t);const r=new RegExp(`^${An(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),HS=P("$ZodCheckEndsWith",(e,t)=>{jt.init(e,t);const r=new RegExp(`.*${An(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),qS=P("$ZodCheckOverwrite",(e,t)=>{jt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class KS{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),s=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...r,s.join(`
`))}}const GS={major:4,minor:1,patch:12},ve=P("$ZodType",(e,t)=>{var s;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=GS;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const o of i._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const i=(a,l,u)=>{let c=fn(a),d;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(c)continue;const m=a.issues.length,y=h._zod.check(a);if(y instanceof Promise&&(u==null?void 0:u.async)===!1)throw new Sn;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,a.issues.length!==m&&(c||(c=fn(a,m)))});else{if(a.issues.length===m)continue;c||(c=fn(a,m))}}return d?d.then(()=>a):a},o=(a,l,u)=>{if(fn(a))return a.aborted=!0,a;const c=i(l,n,u);if(c instanceof Promise){if(u.async===!1)throw new Sn;return c.then(d=>e._zod.parse(d,u))}return e._zod.parse(c,u)};e._zod.run=(a,l)=>{if(l.skipChecks)return e._zod.parse(a,l);if(l.direction==="backward"){const c=e._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return c instanceof Promise?c.then(d=>o(d,a,l)):o(c,a,l)}const u=e._zod.parse(a,l);if(u instanceof Promise){if(l.async===!1)throw new Sn;return u.then(c=>i(c,n,l))}return i(u,n,l)}}e["~standard"]={validate:i=>{var o;try{const a=sS(e,i);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return iS(e,i).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Qu=P("$ZodString",(e,t)=>{var r;ve.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??$S(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ie=P("$ZodStringFormat",(e,t)=>{zo.init(e,t),Qu.init(e,t)}),JS=P("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=SS),ie.init(e,t)}),QS=P("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Hd(n))}else t.pattern??(t.pattern=Hd());ie.init(e,t)}),YS=P("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=kS),ie.init(e,t)}),XS=P("$ZodURL",(e,t)=>{ie.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:CS.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),ek=P("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ES()),ie.init(e,t)}),tk=P("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=wS),ie.init(e,t)}),rk=P("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=pS),ie.init(e,t)}),nk=P("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=gS),ie.init(e,t)}),sk=P("$ZodULID",(e,t)=>{t.pattern??(t.pattern=mS),ie.init(e,t)}),ik=P("$ZodXID",(e,t)=>{t.pattern??(t.pattern=vS),ie.init(e,t)}),ok=P("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=yS),ie.init(e,t)}),ak=P("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=RS(t)),ie.init(e,t)}),lk=P("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=NS),ie.init(e,t)}),uk=P("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=IS(t)),ie.init(e,t)}),ck=P("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=_S),ie.init(e,t)}),dk=P("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=xS),ie.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),hk=P("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=TS),ie.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),fk=P("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=PS),ie.init(e,t)}),pk=P("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=jS),ie.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,i]=n;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Gg(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const gk=P("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=OS),ie.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Gg(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function mk(e){if(!Hg.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Gg(r)}const vk=P("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Hg),ie.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{mk(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),yk=P("$ZodE164",(e,t)=>{t.pattern??(t.pattern=AS),ie.init(e,t)});function wk(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const _k=P("$ZodJWT",(e,t)=>{ie.init(e,t),e._zod.check=r=>{wk(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Sk=P("$ZodUnknown",(e,t)=>{ve.init(e,t),e._zod.parse=r=>r}),kk=P("$ZodNever",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function qd(e,t,r){e.issues.length&&t.issues.push(...Fg(r,e.issues)),t.value[r]=e.value}const bk=P("$ZodArray",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=t.element._zod.run({value:a,issues:[]},n);l instanceof Promise?i.push(l.then(u=>qd(u,r,o))):qd(l,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function ho(e,t,r,n){e.issues.length&&t.issues.push(...Fg(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function Jg(e){var n,s,i,o;const t=Object.keys(e.shape);for(const a of t)if(!((o=(i=(s=(n=e.shape)==null?void 0:n[a])==null?void 0:s._zod)==null?void 0:i.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const r=K_(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function Qg(e,t,r,n,s,i){const o=[],a=s.keySet,l=s.catchall._zod,u=l.def.type;for(const c of Object.keys(t)){if(a.has(c))continue;if(u==="never"){o.push(c);continue}const d=l.run({value:t[c],issues:[]},n);d instanceof Promise?e.push(d.then(h=>ho(h,r,c,t))):ho(d,r,c,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const Ek=P("$ZodObject",(e,t)=>{ve.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...a};return Object.defineProperty(t,"shape",{value:l}),l}})}const n=Zu(()=>Jg(t));X(e._zod,"propValues",()=>{const a=t.shape,l={};for(const u in a){const c=a[u]._zod;if(c.values){l[u]??(l[u]=new Set);for(const d of c.values)l[u].add(d)}}return l});const s=co,i=t.catchall;let o;e._zod.parse=(a,l)=>{o??(o=n.value);const u=a.value;if(!s(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),a;a.value={};const c=[],d=o.shape;for(const h of o.keys){const y=d[h]._zod.run({value:u[h],issues:[]},l);y instanceof Promise?c.push(y.then(w=>ho(w,a,h,u))):ho(y,a,h,u)}return i?Qg(c,u,a,l,n.value,e):c.length?Promise.all(c).then(()=>a):a}}),xk=P("$ZodObjectJIT",(e,t)=>{Ek.init(e,t);const r=e._zod.parse,n=Zu(()=>Jg(t)),s=h=>{const m=new KS(["shape","payload","ctx"]),y=n.value,w=p=>{const S=Zd(p);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};m.write("const input = payload.value;");const _=Object.create(null);let g=0;for(const p of y.keys)_[p]=`key_${g++}`;m.write("const newResult = {};");for(const p of y.keys){const S=_[p],x=Zd(p);m.write(`const ${S} = ${w(p)};`),m.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${x}, ...iss.path] : [${x}]
          })));
        }
        
        
        if (${S}.value === undefined) {
          if (${x} in input) {
            newResult[${x}] = undefined;
          }
        } else {
          newResult[${x}] = ${S}.value;
        }
        
      `)}m.write("payload.value = newResult;"),m.write("return payload;");const f=m.compile();return(p,S)=>f(h,p,S)};let i;const o=co,a=!Ug.jitless,u=a&&H_.value,c=t.catchall;let d;e._zod.parse=(h,m)=>{d??(d=n.value);const y=h.value;return o(y)?a&&u&&(m==null?void 0:m.async)===!1&&m.jitless!==!0?(i||(i=s(t.shape)),h=i(h,m),c?Qg([],y,h,m,d,e):h):r(h,m):(h.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),h)}});function Kd(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!fn(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>Ur(o,n,Lr())))}),t)}const Tk=P("$ZodUnion",(e,t)=>{ve.init(e,t),X(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),X(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),X(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),X(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>qu(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let o=!1;const a=[];for(const l of t.options){const u=l._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)a.push(u),o=!0;else{if(u.issues.length===0)return u;a.push(u)}}return o?Promise.all(a).then(l=>Kd(l,s,e,i)):Kd(a,s,e,i)}}),Pk=P("$ZodIntersection",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,i=t.left._zod.run({value:s,issues:[]},n),o=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,u])=>Gd(r,l,u)):Gd(r,i,o)}});function Rl(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if($s(e)&&$s(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),s={...e,...t};for(const i of n){const o=Rl(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],i=t[n],o=Rl(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Gd(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),fn(e))return e;const n=Rl(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const jk=P("$ZodEnum",(e,t)=>{ve.init(e,t);const r=Z_(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>q_.has(typeof s)).map(s=>typeof s=="string"?An(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return n.has(o)||s.issues.push({code:"invalid_value",values:r,input:o,inst:e}),s}}),Ok=P("$ZodLiteral",(e,t)=>{if(ve.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?An(r):r?An(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const s=r.value;return e._zod.values.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),Ck=P("$ZodTransform",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Lg(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(r.value=o,r));if(s instanceof Promise)throw new Sn;return r.value=s,r}});function Jd(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Ak=P("$ZodOptional",(e,t)=>{ve.init(e,t),e._zod.optin="optional",e._zod.optout="optional",X(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),X(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${qu(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>Jd(i,r.value)):Jd(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Nk=P("$ZodNullable",(e,t)=>{ve.init(e,t),X(e._zod,"optin",()=>t.innerType._zod.optin),X(e._zod,"optout",()=>t.innerType._zod.optout),X(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${qu(r.source)}|null)$`):void 0}),X(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Ik=P("$ZodDefault",(e,t)=>{ve.init(e,t),e._zod.optin="optional",X(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>Qd(i,t)):Qd(s,t)}});function Qd(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Rk=P("$ZodPrefault",(e,t)=>{ve.init(e,t),e._zod.optin="optional",X(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),$k=P("$ZodNonOptional",(e,t)=>{ve.init(e,t),X(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>Yd(i,e)):Yd(s,e)}});function Yd(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const zk=P("$ZodCatch",(e,t)=>{ve.init(e,t),X(e._zod,"optin",()=>t.innerType._zod.optin),X(e._zod,"optout",()=>t.innerType._zod.optout),X(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>Ur(o,n,Lr()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>Ur(i,n,Lr()))},input:r.value}),r.issues=[]),r)}}),Dk=P("$ZodPipe",(e,t)=>{ve.init(e,t),X(e._zod,"values",()=>t.in._zod.values),X(e._zod,"optin",()=>t.in._zod.optin),X(e._zod,"optout",()=>t.out._zod.optout),X(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>Si(o,t.in,n)):Si(i,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(i=>Si(i,t.out,n)):Si(s,t.out,n)}});function Si(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const Lk=P("$ZodReadonly",(e,t)=>{ve.init(e,t),X(e._zod,"propValues",()=>t.innerType._zod.propValues),X(e._zod,"values",()=>t.innerType._zod.values),X(e._zod,"optin",()=>t.innerType._zod.optin),X(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(Xd):Xd(s)}});function Xd(e){return e.value=Object.freeze(e.value),e}const Uk=P("$ZodCustom",(e,t)=>{jt.init(e,t),ve.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(i=>eh(i,r,n,e));eh(s,r,n,e)}});function eh(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(zs(s))}}class Mk{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Bk(){return new Mk}const ki=Bk();function Fk(e,t){return new e({type:"string",...U(t)})}function Vk(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...U(t)})}function th(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...U(t)})}function Wk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...U(t)})}function Zk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...U(t)})}function Hk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...U(t)})}function qk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...U(t)})}function Kk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...U(t)})}function Gk(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...U(t)})}function Jk(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...U(t)})}function Qk(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...U(t)})}function Yk(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...U(t)})}function Xk(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...U(t)})}function eb(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...U(t)})}function tb(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...U(t)})}function rb(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...U(t)})}function nb(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...U(t)})}function sb(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...U(t)})}function ib(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...U(t)})}function ob(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...U(t)})}function ab(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...U(t)})}function lb(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...U(t)})}function ub(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...U(t)})}function cb(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...U(t)})}function db(e,t){return new e({type:"string",format:"date",check:"string_format",...U(t)})}function hb(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...U(t)})}function fb(e,t){return new e({type:"string",format:"duration",check:"string_format",...U(t)})}function pb(e){return new e({type:"unknown"})}function gb(e,t){return new e({type:"never",...U(t)})}function Yg(e,t){return new LS({check:"max_length",...U(t),maximum:e})}function fo(e,t){return new US({check:"min_length",...U(t),minimum:e})}function Xg(e,t){return new MS({check:"length_equals",...U(t),length:e})}function mb(e,t){return new BS({check:"string_format",format:"regex",...U(t),pattern:e})}function vb(e){return new FS({check:"string_format",format:"lowercase",...U(e)})}function yb(e){return new VS({check:"string_format",format:"uppercase",...U(e)})}function wb(e,t){return new WS({check:"string_format",format:"includes",...U(t),includes:e})}function _b(e,t){return new ZS({check:"string_format",format:"starts_with",...U(t),prefix:e})}function Sb(e,t){return new HS({check:"string_format",format:"ends_with",...U(t),suffix:e})}function qs(e){return new qS({check:"overwrite",tx:e})}function kb(e){return qs(t=>t.normalize(e))}function bb(){return qs(e=>e.trim())}function Eb(){return qs(e=>e.toLowerCase())}function xb(){return qs(e=>e.toUpperCase())}function Tb(e,t,r){return new e({type:"array",element:t,...U(r)})}function Pb(e,t,r){return new e({type:"custom",check:"custom",fn:t,...U(r)})}function jb(e){const t=Ob(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(zs(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(zs(s))}},e(r.value,r)));return t}function Ob(e,t){const r=new jt({check:"custom",...U(t)});return r._zod.check=e,r}const Cb=P("ZodISODateTime",(e,t)=>{ak.init(e,t),ce.init(e,t)});function Ab(e){return cb(Cb,e)}const Nb=P("ZodISODate",(e,t)=>{lk.init(e,t),ce.init(e,t)});function Ib(e){return db(Nb,e)}const Rb=P("ZodISOTime",(e,t)=>{uk.init(e,t),ce.init(e,t)});function $b(e){return hb(Rb,e)}const zb=P("ZodISODuration",(e,t)=>{ck.init(e,t),ce.init(e,t)});function Db(e){return fb(zb,e)}const Lb=(e,t)=>{Wg.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>nS(e,r)},flatten:{value:r=>rS(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Il,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Il,2)}},isEmpty:{get(){return e.issues.length===0}}})},ct=P("ZodError",Lb,{Parent:Error}),Ub=Gu(ct),Mb=Ju(ct),Bb=Ro(ct),Fb=$o(ct),Vb=oS(ct),Wb=aS(ct),Zb=lS(ct),Hb=uS(ct),qb=cS(ct),Kb=dS(ct),Gb=hS(ct),Jb=fS(ct),be=P("ZodType",(e,t)=>(ve.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Zr(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>pr(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>Ub(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Bb(e,r,n),e.parseAsync=async(r,n)=>Mb(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Fb(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Vb(e,r,n),e.decode=(r,n)=>Wb(e,r,n),e.encodeAsync=async(r,n)=>Zb(e,r,n),e.decodeAsync=async(r,n)=>Hb(e,r,n),e.safeEncode=(r,n)=>qb(e,r,n),e.safeDecode=(r,n)=>Kb(e,r,n),e.safeEncodeAsync=async(r,n)=>Gb(e,r,n),e.safeDecodeAsync=async(r,n)=>Jb(e,r,n),e.refine=(r,n)=>e.check(ME(r,n)),e.superRefine=r=>e.check(BE(r)),e.overwrite=r=>e.check(qs(r)),e.optional=()=>ih(e),e.nullable=()=>oh(e),e.nullish=()=>ih(oh(e)),e.nonoptional=r=>IE(e,r),e.array=()=>wE(e),e.or=r=>tm([e,r]),e.and=r=>EE(e,r),e.transform=r=>ah(e,PE(r)),e.default=r=>CE(e,r),e.prefault=r=>NE(e,r),e.catch=r=>$E(e,r),e.pipe=r=>ah(e,r),e.readonly=()=>LE(e),e.describe=r=>{const n=e.clone();return ki.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=ki.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return ki.get(e);const n=e.clone();return ki.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),em=P("_ZodString",(e,t)=>{Qu.init(e,t),be.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(mb(...n)),e.includes=(...n)=>e.check(wb(...n)),e.startsWith=(...n)=>e.check(_b(...n)),e.endsWith=(...n)=>e.check(Sb(...n)),e.min=(...n)=>e.check(fo(...n)),e.max=(...n)=>e.check(Yg(...n)),e.length=(...n)=>e.check(Xg(...n)),e.nonempty=(...n)=>e.check(fo(1,...n)),e.lowercase=n=>e.check(vb(n)),e.uppercase=n=>e.check(yb(n)),e.trim=()=>e.check(bb()),e.normalize=(...n)=>e.check(kb(...n)),e.toLowerCase=()=>e.check(Eb()),e.toUpperCase=()=>e.check(xb())}),Qb=P("ZodString",(e,t)=>{Qu.init(e,t),em.init(e,t),e.email=r=>e.check(Vk(Yb,r)),e.url=r=>e.check(Kk(Xb,r)),e.jwt=r=>e.check(ub(pE,r)),e.emoji=r=>e.check(Gk(eE,r)),e.guid=r=>e.check(th(rh,r)),e.uuid=r=>e.check(Wk(bi,r)),e.uuidv4=r=>e.check(Zk(bi,r)),e.uuidv6=r=>e.check(Hk(bi,r)),e.uuidv7=r=>e.check(qk(bi,r)),e.nanoid=r=>e.check(Jk(tE,r)),e.guid=r=>e.check(th(rh,r)),e.cuid=r=>e.check(Qk(rE,r)),e.cuid2=r=>e.check(Yk(nE,r)),e.ulid=r=>e.check(Xk(sE,r)),e.base64=r=>e.check(ob(dE,r)),e.base64url=r=>e.check(ab(hE,r)),e.xid=r=>e.check(eb(iE,r)),e.ksuid=r=>e.check(tb(oE,r)),e.ipv4=r=>e.check(rb(aE,r)),e.ipv6=r=>e.check(nb(lE,r)),e.cidrv4=r=>e.check(sb(uE,r)),e.cidrv6=r=>e.check(ib(cE,r)),e.e164=r=>e.check(lb(fE,r)),e.datetime=r=>e.check(Ab(r)),e.date=r=>e.check(Ib(r)),e.time=r=>e.check($b(r)),e.duration=r=>e.check(Db(r))});function wr(e){return Fk(Qb,e)}const ce=P("ZodStringFormat",(e,t)=>{ie.init(e,t),em.init(e,t)}),Yb=P("ZodEmail",(e,t)=>{YS.init(e,t),ce.init(e,t)}),rh=P("ZodGUID",(e,t)=>{JS.init(e,t),ce.init(e,t)}),bi=P("ZodUUID",(e,t)=>{QS.init(e,t),ce.init(e,t)}),Xb=P("ZodURL",(e,t)=>{XS.init(e,t),ce.init(e,t)}),eE=P("ZodEmoji",(e,t)=>{ek.init(e,t),ce.init(e,t)}),tE=P("ZodNanoID",(e,t)=>{tk.init(e,t),ce.init(e,t)}),rE=P("ZodCUID",(e,t)=>{rk.init(e,t),ce.init(e,t)}),nE=P("ZodCUID2",(e,t)=>{nk.init(e,t),ce.init(e,t)}),sE=P("ZodULID",(e,t)=>{sk.init(e,t),ce.init(e,t)}),iE=P("ZodXID",(e,t)=>{ik.init(e,t),ce.init(e,t)}),oE=P("ZodKSUID",(e,t)=>{ok.init(e,t),ce.init(e,t)}),aE=P("ZodIPv4",(e,t)=>{dk.init(e,t),ce.init(e,t)}),lE=P("ZodIPv6",(e,t)=>{hk.init(e,t),ce.init(e,t)}),uE=P("ZodCIDRv4",(e,t)=>{fk.init(e,t),ce.init(e,t)}),cE=P("ZodCIDRv6",(e,t)=>{pk.init(e,t),ce.init(e,t)}),dE=P("ZodBase64",(e,t)=>{gk.init(e,t),ce.init(e,t)}),hE=P("ZodBase64URL",(e,t)=>{vk.init(e,t),ce.init(e,t)}),fE=P("ZodE164",(e,t)=>{yk.init(e,t),ce.init(e,t)}),pE=P("ZodJWT",(e,t)=>{_k.init(e,t),ce.init(e,t)}),gE=P("ZodUnknown",(e,t)=>{Sk.init(e,t),be.init(e,t)});function nh(){return pb(gE)}const mE=P("ZodNever",(e,t)=>{kk.init(e,t),be.init(e,t)});function vE(e){return gb(mE,e)}const yE=P("ZodArray",(e,t)=>{bk.init(e,t),be.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(fo(r,n)),e.nonempty=r=>e.check(fo(1,r)),e.max=(r,n)=>e.check(Yg(r,n)),e.length=(r,n)=>e.check(Xg(r,n)),e.unwrap=()=>e.element});function wE(e,t){return Tb(yE,e,t)}const _E=P("ZodObject",(e,t)=>{xk.init(e,t),be.init(e,t),X(e,"shape",()=>t.shape),e.keyof=()=>rm(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:nh()}),e.loose=()=>e.clone({...e._zod.def,catchall:nh()}),e.strict=()=>e.clone({...e._zod.def,catchall:vE()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Q_(e,r),e.safeExtend=r=>Y_(e,r),e.merge=r=>X_(e,r),e.pick=r=>G_(e,r),e.omit=r=>J_(e,r),e.partial=(...r)=>eS(nm,e,r[0]),e.required=(...r)=>tS(sm,e,r[0])});function SE(e,t){const r={type:"object",shape:e??{},...U(t)};return new _E(r)}const kE=P("ZodUnion",(e,t)=>{Tk.init(e,t),be.init(e,t),e.options=t.options});function tm(e,t){return new kE({type:"union",options:e,...U(t)})}const bE=P("ZodIntersection",(e,t)=>{Pk.init(e,t),be.init(e,t)});function EE(e,t){return new bE({type:"intersection",left:e,right:t})}const $l=P("ZodEnum",(e,t)=>{jk.init(e,t),be.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new $l({...t,checks:[],...U(s),entries:i})},e.exclude=(n,s)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new $l({...t,checks:[],...U(s),entries:i})}});function rm(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new $l({type:"enum",entries:r,...U(t)})}const xE=P("ZodLiteral",(e,t)=>{Ok.init(e,t),be.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function sh(e,t){return new xE({type:"literal",values:Array.isArray(e)?e:[e],...U(t)})}const TE=P("ZodTransform",(e,t)=>{Ck.init(e,t),be.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Lg(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(zs(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(zs(o))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function PE(e){return new TE({type:"transform",transform:e})}const nm=P("ZodOptional",(e,t)=>{Ak.init(e,t),be.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ih(e){return new nm({type:"optional",innerType:e})}const jE=P("ZodNullable",(e,t)=>{Nk.init(e,t),be.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oh(e){return new jE({type:"nullable",innerType:e})}const OE=P("ZodDefault",(e,t)=>{Ik.init(e,t),be.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function CE(e,t){return new OE({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Bg(t)}})}const AE=P("ZodPrefault",(e,t)=>{Rk.init(e,t),be.init(e,t),e.unwrap=()=>e._zod.def.innerType});function NE(e,t){return new AE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Bg(t)}})}const sm=P("ZodNonOptional",(e,t)=>{$k.init(e,t),be.init(e,t),e.unwrap=()=>e._zod.def.innerType});function IE(e,t){return new sm({type:"nonoptional",innerType:e,...U(t)})}const RE=P("ZodCatch",(e,t)=>{zk.init(e,t),be.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function $E(e,t){return new RE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const zE=P("ZodPipe",(e,t)=>{Dk.init(e,t),be.init(e,t),e.in=t.in,e.out=t.out});function ah(e,t){return new zE({type:"pipe",in:e,out:t})}const DE=P("ZodReadonly",(e,t)=>{Lk.init(e,t),be.init(e,t),e.unwrap=()=>e._zod.def.innerType});function LE(e){return new DE({type:"readonly",innerType:e})}const UE=P("ZodCustom",(e,t)=>{Uk.init(e,t),be.init(e,t)});function ME(e,t={}){return Pb(UE,e,t)}function BE(e){return jb(e)}const lh=tm([sh("true"),sh("false")]).transform(e=>e==="true"),FE={VITE_SUPABASE_URL:"https://kginmnwwjbflqshpadfe.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtnaW5tbnd3amJmbHFzaHBhZGZlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5ODcyNzYsImV4cCI6MjA3NjU2MzI3Nn0.uXb4wzjJF39fCRC_iDlC4JbQEpuHpnuz_Dm1zVxbYC0",VITE_ENABLE_SUPABASE:"true",VITE_APP_ENV:"development",VITE_APP_RELEASE:"",VITE_SENTRY_DSN:"",POSTHOG_KEY:"",POSTHOG_API_HOST:"",VITE_DISABLE_ANALYTICS_CONSENT:"false"},VE=SE({VITE_SUPABASE_URL:wr().url({message:"VITE_SUPABASE_URL must be a valid URL (e.g., https://xyzcompany.supabase.co)."}),VITE_SUPABASE_ANON_KEY:wr().min(1,"VITE_SUPABASE_ANON_KEY is required").refine(e=>!/^your[_-]supabase/i.test(e),"VITE_SUPABASE_ANON_KEY must be set."),VITE_ENABLE_SUPABASE:lh,VITE_APP_ENV:rm(["development","staging","production"]),VITE_APP_RELEASE:wr().optional(),VITE_SENTRY_DSN:wr().optional().transform(e=>e&&e.length>0?e:void 0).pipe(wr().url().optional()),POSTHOG_KEY:wr().optional(),POSTHOG_API_HOST:wr().optional(),VITE_DISABLE_ANALYTICS_CONSENT:lh}),zl=VE.safeParse(FE);if(!zl.success)throw console.error("Environment validation failed:",zl.error.flatten().fieldErrors),new Error("Missing or invalid environment configuration. See console for details.");const bt=zl.data,Do={VITE_SUPABASE_URL:bt.VITE_SUPABASE_URL,VITE_SUPABASE_ANON_KEY:bt.VITE_SUPABASE_ANON_KEY,VITE_ENABLE_SUPABASE:bt.VITE_ENABLE_SUPABASE,VITE_APP_ENV:bt.VITE_APP_ENV,VITE_APP_RELEASE:bt.VITE_APP_RELEASE,VITE_SENTRY_DSN:bt.VITE_SENTRY_DSN,POSTHOG_KEY:bt.POSTHOG_KEY,POSTHOG_API_HOST:bt.POSTHOG_API_HOST,VITE_DISABLE_ANALYTICS_CONSENT:bt.VITE_DISABLE_ANALYTICS_CONSENT,isProduction:bt.VITE_APP_ENV==="production"},po=Do.VITE_SUPABASE_URL,Ds=Do.VITE_SUPABASE_ANON_KEY,WE=Do.VITE_APP_ENV==="development",im=Do.VITE_ENABLE_SUPABASE,om=e=>{try{if(!e||e==="YOUR_SUPABASE_URL")return!1;const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},ZE=(!WE||im)&&om(po)&&Ds&&Ds!=="YOUR_SUPABASE_ANON_KEY",V=ZE?V_(po,Ds):null,Un=V!==null;V===null&&(console.warn(im?"Supabase initialisation skipped despite VITE_ENABLE_SUPABASE because credentials are missing or invalid.":"Supabase client not initialized. Running in mock/offline mode."),om(po)||console.warn("Invalid or missing VITE_SUPABASE_URL:",po),(!Ds||Ds==="YOUR_SUPABASE_ANON_KEY")&&console.warn("Invalid or missing VITE_SUPABASE_ANON_KEY"));const uh=new Map,ch=new Map,HE=async e=>{if(!Un)return console.warn("Supabase is not configured. Returning empty memory list."),{data:[],error:null};try{const{data:t,error:r}=await V.from("memories").select("*").eq("user_id",e).order("created_at",{ascending:!1});return{data:t,error:r}}catch(t){return console.error("Error fetching memories:",t),{data:null,error:t}}},qE=async e=>{if(!Un)return console.warn("Supabase is not configured. Cannot get user profile."),{data:null,error:null};try{const{data:t,error:r}=await V.from("profiles").select("*").eq("user_id",e).single();return{data:t,error:r}}catch(t){return console.error("Error fetching user profile:",t),{data:null,error:t}}},am=async e=>{if(!Un)return console.warn("Supabase is not configured. Returning default memory strength."),{data:0,error:null};try{const{data:t,error:r}=await V.from("profiles").select("memory_strength").eq("user_id",e).single();return r?{data:null,error:r}:{data:(t==null?void 0:t.memory_strength)||0,error:null}}catch(t){return console.error("Error fetching memory strength:",t),{data:null,error:t}}},go=async(e,t)=>{if(!Un)return console.warn("Supabase is not configured. Cannot update memory strength."),{data:null,error:null};try{const{data:r,error:n}=await V.from("profiles").update({memory_strength:t}).eq("user_id",e).select().single();return{data:r,error:n}}catch(r){return console.error("Error updating memory strength:",r),{data:null,error:r}}},KE=(e,t)=>{if(!Un)return console.warn("Supabase is not configured. Cannot subscribe to memories."),"";const r=`memories_${e}_${Date.now()}`;return uh.set(r,t),V.channel(`memories_${e}`).on("postgres_changes",{event:"*",schema:"public",table:"memories",filter:`user_id=eq.${e}`},async n=>{const{data:s}=await HE(e);s&&uh.forEach((i,o)=>{o.startsWith(`memories_${e}`)&&i(s)})}).subscribe(),r},GE=(e,t)=>{if(!Un)return console.warn("Supabase is not configured. Cannot subscribe to profile."),"";const r=`profile_${e}_${Date.now()}`;return ch.set(r,t),V.channel(`profile_${e}`).on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`user_id=eq.${e}`},async n=>{const{data:s}=await qE(e);s&&ch.forEach((i,o)=>{o.startsWith(`profile_${e}`)&&i(s)})}).subscribe(),r},Dl=(e,t)=>t.some(r=>e instanceof r);let dh,hh;function JE(){return dh||(dh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QE(){return hh||(hh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ll=new WeakMap,ka=new WeakMap,Lo=new WeakMap;function YE(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r(Nr(e.result)),s()},o=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return Lo.set(t,e),t}function XE(e){if(Ll.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ll.set(e,t)}let Ul={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Ll.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Nr(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lm(e){Ul=e(Ul)}function ex(e){return QE().includes(e)?function(...t){return e.apply(Ml(this),t),Nr(this.request)}:function(...t){return Nr(e.apply(Ml(this),t))}}function tx(e){return typeof e=="function"?ex(e):(e instanceof IDBTransaction&&XE(e),Dl(e,JE())?new Proxy(e,Ul):e)}function Nr(e){if(e instanceof IDBRequest)return YE(e);if(ka.has(e))return ka.get(e);const t=tx(e);return t!==e&&(ka.set(e,t),Lo.set(t,e)),t}const Ml=e=>Lo.get(e);function rx(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=Nr(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Nr(o.result),l.oldVersion,l.newVersion,Nr(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nx=["get","getKey","getAll","getAllKeys","count"],sx=["put","add","delete","clear"],ba=new Map;function fh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ba.get(t))return ba.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=sx.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||nx.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),s&&l.done]))[0]};return ba.set(t,i),i}lm(e=>({...e,get:(t,r,n)=>fh(t,r)||e.get(t,r,n),has:(t,r)=>!!fh(t,r)||e.has(t,r)}));const ix=["continue","continuePrimaryKey","advance"],ph={},Bl=new WeakMap,um=new WeakMap,ox={get(e,t){if(!ix.includes(t))return e[t];let r=ph[t];return r||(r=ph[t]=function(...n){Bl.set(this,um.get(this)[t](...n))}),r}};async function*ax(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,ox);for(um.set(r,t),Lo.set(r,Ml(t));t;)yield r,t=await(Bl.get(r)||t.continue()),Bl.delete(r)}function gh(e,t){return t===Symbol.asyncIterator&&Dl(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Dl(e,[IDBIndex,IDBObjectStore])}lm(e=>({...e,get(t,r,n){return gh(t,r)?ax:e.get(t,r,n)},has(t,r){return gh(t,r)||e.has(t,r)}}));const lx="MemoryKeeperDB",ux=2,Ls="memories",Xt="profiles",Ks=async()=>{try{return await rx(lx,ux,{upgrade(e,t,r,n){if(!e.objectStoreNames.contains(Ls)){const s=e.createObjectStore(Ls,{keyPath:"id"});s.createIndex("by-userId","userId",{unique:!1}),s.createIndex("by-createdAt","createdAt",{unique:!1}),s.createIndex("by-synced","synced",{unique:!1})}e.objectStoreNames.contains(Xt)?t<2&&(e.deleteObjectStore(Xt),e.createObjectStore(Xt,{keyPath:"userId"}).createIndex("by-synced","synced",{unique:!1})):e.createObjectStore(Xt,{keyPath:"userId"}).createIndex("by-synced","synced",{unique:!1})}})}catch(e){return console.error("Error opening IndexedDB:",e),null}},es=async e=>{try{const t=await Ks();if(!t)return!1;const r={...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await t.put(Xt,r),!0}catch(t){return console.error("Error saving profile to IndexedDB:",t),!1}},Uo=async e=>{try{const t=await Ks();return t?await t.get(Xt,e):void 0}catch(t){console.error("Error getting profile from IndexedDB:",t);return}},mh=async e=>{try{const t=await Ks();if(!t)return!1;for(const r of e){const n=await t.get(Ls,r);n&&(n.synced=!0,n.updatedAt=new Date().toISOString(),await t.put(Ls,n))}return!0}catch(t){return console.error("Error marking memories as synced in IndexedDB:",t),!1}},Ei=async e=>{try{const t=await Ks();if(!t)return!1;const r=await t.get(Xt,e);return r?(r.synced=!0,r.updatedAt=new Date().toISOString(),await t.put(Xt,r),!0):!1}catch(t){return console.error("Error marking profile as synced in IndexedDB:",t),!1}},vh=async e=>{try{const t=await Ks();if(!t)return!1;const r={...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await t.put(Ls,r),!0}catch(t){return console.error("Error adding single memory to IndexedDB:",t),!1}},cm=k.createContext(null),Fx=({children:e})=>{const[t,r]=k.useState(null),[n,s]=k.useState(null),[i,o]=k.useState(null),[a,l]=k.useState(!0),[u,c]=k.useState(!0),[d,h]=k.useState(null),[m,y]=k.useState(!1),{dispatch:w}=Vl(),_=k.useRef(null),g=!1,f=g;k.useEffect(()=>{},[f]);const p=async b=>{c(!0);try{if(!V){try{const A=await Uo(b);if(A){const L={id:A.id,user_id:A.userId,email:(t==null?void 0:t.email)||null,full_name:A.fullName||"",avatar_url:A.avatarUrl,memory_strength:A.memoryStrength,created_at:A.createdAt,updated_at:A.updatedAt};return o(L),typeof L.memory_strength=="number"&&w({type:"UPDATE_MEMORY_STRENGTH",payload:L.memory_strength}),L}}catch(A){console.warn("Unable to load offline profile:",A)}return null}const{data:T,error:j}=await V.from("profiles").select("*").eq("id",b).single();if(j){if(j.code==="PGRST116")return await S(b);throw j}const N={...T,email:(t==null?void 0:t.email)||null};return o(N),await es({id:"default",userId:b,fullName:N.full_name||"",avatarUrl:N.avatar_url||void 0,memoryStrength:N.memory_strength||0,synced:!0}),await Ei(b),N}catch(T){return console.error("Error fetching profile:",T),null}finally{c(!1)}},S=async b=>{try{if(!V)return null;const{data:T,error:j}=await V.from("profiles").insert({id:b,updated_at:new Date().toISOString(),full_name:"",avatar_url:void 0,memory_strength:0}).select().single();if(j)throw j;const N={...T,email:(t==null?void 0:t.email)||null};return o(N),await es({id:"default",userId:b,fullName:N.full_name||"",avatarUrl:N.avatar_url||void 0,memoryStrength:N.memory_strength||0,synced:!0}),await Ei(b),N}catch(T){return console.error("Error creating profile:",T),null}},x=k.useCallback(b=>{if(!V)return;const T=KE(b,async N=>{w({type:"SET_MEMORIES",payload:N});try{await Promise.all(N.map(L=>vh({id:L.id||`remote-${Date.now()}-${Math.random()}`,userId:L.user_id,prompt:L.prompt,response:L.response,date:L.date,type:L.type,tags:L.tags||[],synced:!0})));const A=N.map(L=>L.id).filter(L=>!!L);A.length>0&&await mh(A)}catch(A){console.warn("Unable to update offline cache from subscription:",A)}}),j=GE(b,async N=>{const A={...N,email:(t==null?void 0:t.email)||null};o(A),N.memory_strength!==void 0&&w({type:"UPDATE_MEMORY_STRENGTH",payload:N.memory_strength});try{await es({id:"default",userId:b,fullName:A.full_name||"",avatarUrl:A.avatar_url||void 0,memoryStrength:A.memory_strength||0,synced:!0}),await Ei(b)}catch(L){console.warn("Unable to update offline profile from subscription:",L)}});_.current={memories:T,profile:j}},[w,t==null?void 0:t.email]),E=k.useCallback(()=>{_.current&&(_.current.memories,_.current.profile,_.current=null)},[]);k.useEffect(()=>{if(!V||g){console.warn("Supabase not configured or in development mode, using mock data"),l(!1),c(!1);return}(async()=>{if(!V)return;const{data:{session:T}}=await V.auth.getSession();if(s(T),r((T==null?void 0:T.user)||null),T!=null&&T.user){await p(T.user.id),x(T.user.id);try{const{data:N,error:A}=await V.from("memories").select("*").eq("user_id",T.user.id).order("date",{ascending:!1});if(A)throw A;if(N){w({type:"SET_MEMORIES",payload:N});try{await Promise.all(N.map(q=>vh({id:q.id||`remote-${Date.now()}-${Math.random()}`,userId:q.user_id,prompt:q.prompt,response:q.response,date:q.date,type:q.type,tags:q.tags||[],synced:!0})));const L=N.map(q=>q.id).filter(q=>!!q);L.length>0&&await mh(L)}catch(L){console.warn("Unable to cache remote memories for offline use:",L)}}}catch(N){console.error("Error fetching user memories:",N)}}else o(null);l(!1);const{data:{subscription:j}}=await V.auth.onAuthStateChange(async(N,A)=>{if(s(A),r((A==null?void 0:A.user)||null),E(),A!=null&&A.user){await p(A.user.id),x(A.user.id);try{if(V){const{data:L,error:q}=await V.from("memories").select("*").eq("user_id",A.user.id).order("date",{ascending:!1});if(q)throw q;L&&w({type:"SET_MEMORIES",payload:L})}}catch(L){console.error("Error fetching user memories:",L)}}else o(null);l(!1)});return()=>{j.unsubscribe(),E()}})()},[x,E]);const C=async(b,T)=>{h(null);try{if(!V)throw new Error("Authentication service is not available. Please check your connection.");const{data:j,error:N}=await V.auth.signInWithPassword({email:b,password:T});if(N){let A="Sign in failed. Please try again.";switch(N.message){case"Invalid login credentials":A="Invalid email or password. Please check your credentials and try again.";break;case"Email not confirmed":A="Please check your email and confirm your account before signing in.";break;case"Too many requests":A="Too many sign-in attempts. Please wait a few minutes before trying again.";break;case"User not found":A="No account found with this email address.";break;default:A=N.message||A}throw h(A),new Error(A)}j!=null&&j.user&&h(null)}catch(j){if(!d){const N=j.message||"An unexpected error occurred during sign in. Please try again.";throw h(N),new Error(N)}throw j}},I=async(b,T,j)=>{h(null);try{if(!V)throw new Error("Authentication service is not available. Please check your connection.");if(T.length<6)throw new Error("Password must be at least 6 characters long.");const{data:N,error:A}=await V.auth.signUp({email:b,password:T,options:{data:{full_name:j||"",avatar_url:void 0}}});if(A){let L="Sign up failed. Please try again.";switch(A.message){case"User already registered":L="An account with this email already exists. Please try signing in instead.";break;case"Password should be at least 6 characters":L="Password must be at least 6 characters long.";break;case"Invalid email":L="Please enter a valid email address.";break;case"Signup is disabled":L="New account registration is currently disabled. Please contact support.";break;default:L=A.message||L}throw h(L),new Error(L)}N!=null&&N.user&&h(null)}catch(N){if(!d){const A=N.message||"An unexpected error occurred during sign up. Please try again.";throw h(A),new Error(A)}throw N}},F=async()=>{if(E(),!V){r(null),s(null),o(null);return}const{error:b}=await V.auth.signOut();if(b)throw b;o(null)},D=async b=>{h(null);try{if(!V||!t)throw new Error("You must be signed in to update your profile.");const{error:T}=await V.from("profiles").update(b).eq("id",t.id);if(T){let j="Failed to update profile. Please try again.";switch(T.message){case"duplicate key value violates unique constraint":j="This information is already in use. Please choose different values.";break;case"violates row-level security policy":j="You do not have permission to update this profile.";break;default:j=T.message||j}throw h(j),new Error(j)}if(i){const j={...i,...b};o(j),b.memory_strength!==void 0&&w({type:"UPDATE_MEMORY_STRENGTH",payload:b.memory_strength}),await es({id:"default",userId:j.id||(t==null?void 0:t.id),fullName:j.full_name||"",avatarUrl:j.avatar_url||void 0,memoryStrength:j.memory_strength||0,synced:!0}),await Ei(j.id||(t==null?void 0:t.id))}}catch(T){if(!d){const j=T.message||"An unexpected error occurred while updating your profile.";throw h(j),new Error(j)}throw T}},nt={user:t,session:n,profile:i,signIn:C,signUp:I,signOut:F,updateProfile:D,resetPassword:async b=>{h(null);try{if(!V)throw new Error("Authentication service is not available. Please check your connection.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b))throw new Error("Please enter a valid email address.");const{error:j}=await V.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/reset-password`});if(j){let N="Failed to send password reset email. Please try again.";switch(j.message){case"User not found":N="If an account with this email exists, you will receive a password reset link.";break;case"Email rate limit exceeded":N="Too many requests. Please wait a few minutes before trying again.";break;case"Invalid email":N="Please enter a valid email address.";break;default:N=j.message||N}throw h(N),new Error(N)}h(null)}catch(T){if(!d){const j=T.message||"An unexpected error occurred while requesting password reset.";throw h(j),new Error(j)}throw T}},updatePassword:async b=>{h(null);try{if(!V)throw new Error("You must be signed in to update your password.");if(b.length<6)throw new Error("Password must be at least 6 characters long.");const{error:T}=await V.auth.updateUser({password:b});if(T){let j="Failed to update password. Please try again.";switch(T.message){case"Password should be at least 6 characters":j="Password must be at least 6 characters long.";break;case"Same password":j="New password must be different from your current password.";break;case"Weak password":j="Please choose a stronger password.";break;default:j=T.message||j}throw h(j),new Error(j)}h(null)}catch(T){if(!d){const j=T.message||"An unexpected error occurred while updating your password.";throw h(j),new Error(j)}throw T}},signInWithGoogle:async()=>{h(null);try{if(!V)throw new Error("Authentication service is not available. Please check your connection.");const{error:b}=await V.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/memory-keeper-main`}});if(b){let T=`Google sign-in failed: ${b.message}`;throw b.message.includes("400")&&(T="Google authentication is not properly configured. Please contact the application administrator."),h(T),new Error(T)}}catch(b){if(!d){const T=b.message||"An unexpected error occurred during Google sign-in.";throw h(T),new Error(T)}throw b}},signInWithApple:async()=>{h(null);try{if(!V)throw new Error("Authentication service is not available. Please check your connection.");const{error:b}=await V.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/memory-keeper-main`}});if(b){let T=`Apple sign-in failed: ${b.message}`;throw b.message.includes("400")&&(T="Apple authentication is not properly configured. Please contact the application administrator."),h(T),new Error(T)}}catch(b){if(!d){const T=b.message||"An unexpected error occurred during Apple sign-in.";throw h(T),new Error(T)}throw b}},completeOnboarding:async()=>{h(null);try{if(!t)throw new Error("You must be signed in to complete onboarding.");i&&await D({...i,onboarding_complete:!0}),y(!0)}catch(b){if(!d){const T=b.message||"An unexpected error occurred while completing onboarding.";throw h(T),new Error(T)}throw b}},loading:a,profileLoading:u,authError:d,clearAuthError:()=>{h(null)},onboardingComplete:m};return v.jsx(cm.Provider,{value:nt,children:e})},dm=()=>{const e=k.useContext(cm);if(e===null)throw new Error("useAuth must be used within an AuthProvider");return e},cx=async(e,t)=>{let r=0;try{const{data:a}=await am(e);r=a||0}catch(a){console.warn("Could not fetch current memory strength:",a);try{const l=await Uo();r=(l==null?void 0:l.memoryStrength)||0}catch(l){console.warn("Could not fetch memory strength from IndexedDB:",l)}}const n=dx(t),s=gx(n),i=mx(r,t),o=Math.min(100,Math.max(0,r+s-i));return Math.round(o)},dx=e=>{if(e.length===0)return{consistency:0,activityCount:0,recentActivity:0,engagementDepth:0,activityDiversity:0,progressStreak:0,challengeLevel:0,socialEngagement:0};const t=[...e].sort((p,S)=>p.timestamp.getTime()-S.timestamp.getTime()),r=t.map(p=>p.timestamp.toDateString()),n=[...new Set(r)].length,s=Math.ceil((t[t.length-1].timestamp.getTime()-t[0].timestamp.getTime())/(1e3*60*60*24))||1,i=Math.min(100,n/s*100),o=Math.min(100,e.length*2),a=new Date,l=t[t.length-1].timestamp,u=(a.getTime()-l.getTime())/(1e3*60*60),c=Math.max(0,100-u),h=e.reduce((p,S)=>p+S.value,0)/e.length,m=Math.min(100,h*10),y=new Set(e.map(p=>p.type)).size,w=Math.min(100,y/8*100),_=hx(e),g=fx(e),f=px(e);return{consistency:i,activityCount:o,recentActivity:c,engagementDepth:m,activityDiversity:w,progressStreak:_,challengeLevel:g,socialEngagement:f}},hx=e=>{if(e.length===0)return 0;const t=new Set(e.map(i=>i.timestamp.toDateString())),r=Array.from(t).sort();let n=0,s=1;for(let i=1;i<r.length;i++){const o=new Date(r[i-1]);(new Date(r[i]).getTime()-o.getTime())/(1e3*60*60*24)<=1?s++:(n=Math.max(n,s),s=1)}return n=Math.max(n,s),Math.min(100,n*14.28)},fx=e=>{const t=e.filter(s=>{var i;return((i=s.metadata)==null?void 0:i.difficulty)||s.type==="game_completed"||s.type==="game_perfect_score"});if(t.length===0)return 0;let r=0;t.forEach(s=>{var o;let i=0;switch((o=s.metadata)==null?void 0:o.difficulty){case"easy":i=10;break;case"medium":i=25;break;case"hard":i=50;break;default:i=15;break}s.type==="game_perfect_score"&&(i*=2),s.type==="game_completed"&&(i+=10),r+=i});const n=r/t.length;return Math.min(100,n*2)},px=e=>{const t=e.filter(i=>{var o;return i.type==="memory_shared"||((o=i.metadata)==null?void 0:o.importSource)==="collaboration"});if(t.length===0)return 0;const r=t.length*25,s=new Set(t.map(i=>i.type)).size*10;return Math.min(100,r+s)},gx=e=>.5+(e.consistency*.15+e.activityCount*.1+e.recentActivity*.15+e.engagementDepth*.15+e.activityDiversity*.1+e.progressStreak*.15+e.challengeLevel*.1+e.socialEngagement*.1)/100*3.5,mx=(e,t)=>{if(t.length===0)return 0;const r=[...t].sort((a,l)=>a.timestamp.getTime()-l.timestamp.getTime()),n=r[r.length-1].timestamp,s=(new Date().getTime()-n.getTime())/(1e3*60*60);if(s<24)return 0;const i=s/24,o=.1+e/100*.2;return i*o},vx=async(e,t)=>{try{await go(e,t);try{const r=await Uo();r&&await es({...r,memoryStrength:t,synced:!1})}catch(r){console.warn("Could not update memory strength in IndexedDB:",r)}}catch(r){throw console.error("Error updating memory strength:",r),r}},yx=async(e,t,r=[])=>{const n=[...r,t],s=await cx(e,n);return await vx(e,s),s},yh=(e,t)=>{switch(t){case"memory-match":switch(e){case"easy":return{pairs:4,timeLimit:null,hintFrequency:2,memoryWords:4};case"medium":return{pairs:6,timeLimit:180,hintFrequency:3,memoryWords:6};case"hard":return{pairs:8,timeLimit:120,hintFrequency:5,memoryWords:8};default:return{pairs:6,timeLimit:null,hintFrequency:3,memoryWords:6}}default:switch(e){case"easy":return{timeLimit:null,hintFrequency:1};case"medium":return{timeLimit:180,hintFrequency:2};case"hard":return{timeLimit:120,hintFrequency:4};default:return{timeLimit:null,hintFrequency:2}}}},wx=async e=>{try{const{data:t}=await am(e);if(t===null)try{const r=await Uo(e);return{userId:e,currentAgentType:Fl((r==null?void 0:r.memoryStrength)||50),performanceHistory:[],memoryStrength:(r==null?void 0:r.memoryStrength)||50,lastInteraction:new Date}}catch(r){console.warn("Could not fetch profile from IndexedDB:",r)}return{userId:e,currentAgentType:Fl(t||50),performanceHistory:[],memoryStrength:t||50,lastInteraction:new Date}}catch(t){return console.warn("Error getting adaptive agent profile:",t),{userId:e,currentAgentType:"coach",performanceHistory:[],memoryStrength:50,lastInteraction:new Date}}},Fl=e=>e>=80?"mentor":e>=60?"coach":e>=40?"instructor":"encourager",_x=(e,t)=>{const r=[...e.performanceHistory,t].slice(-20),n=Sx(e.memoryStrength,t);return{...e,performanceHistory:r,memoryStrength:n,currentAgentType:Fl(n),lastInteraction:new Date}},Sx=(e,t)=>{let r=t.success?2:-1;t.difficulty==="hard"?r*=t.success?1.5:.5:t.difficulty==="easy"&&(r*=t.success?.7:1.3),t.success&&t.completionTime<60?r+=1:!t.success&&t.completionTime>180&&(r-=1);const n=Math.min(100,Math.max(1,e+r));return Math.round(n)},kx=e=>{const t={shouldProvideHint:!1,shouldProvideScaffolding:!1};return e.difficulty!=="easy"&&e.currentTime>60&&(t.shouldProvideHint=!0,t.hint=bx(e)),e.mistakes>=3&&(t.shouldProvideHint=!0,t.hint=Ex(e)),e.streak>=3&&e.mistakes>0&&(t.shouldProvideHint=!0,t.agentMessage="Don't worry about that mistake! You were doing so well. Let's try another one."),e.difficulty==="hard"&&e.moves>5&&e.mistakes>2&&(t.shouldProvideScaffolding=!0,t.scaffolding=xx(e)),e.memoryStrength<40?(t.shouldProvideScaffolding=!0,t.scaffolding||(t.scaffolding=Tx(e))):e.memoryStrength>80&&(t.shouldProvideHint=!1,t.shouldProvideScaffolding=!1),t.agentType=e.agentProfile.currentAgentType,t},bx=e=>{const t={easy:"Take your time! There's no rush to finish.",medium:"You're doing great! Just focus on matching the pairs correctly.",hard:"I see you're working hard! Remember the patterns you've seen."};return{id:`hint-${Date.now()}`,type:"verbal",content:t[e.difficulty],priority:5,triggeredBy:"time_pressure",gameId:e.gameId}},Ex=e=>{const t={easy:"That's okay! Try to remember where you saw similar words.",medium:"Don't worry about mistakes! They help us learn. Look for patterns.",hard:"Even experts make mistakes! Focus on one pair at a time."};return{id:`hint-${Date.now()}`,type:"verbal",content:t[e.difficulty],priority:7,triggeredBy:"mistake_threshold",gameId:e.gameId}},xx=e=>({id:`scaffolding-${Date.now()}`,type:"step_by_step",content:`Let's break this down:
1. Focus on one section at a time
2. Look for familiar patterns
3. Take your time to think before clicking`,level:"substantial",gameId:e.gameId}),Tx=e=>{let t=`Here are some tips to help you:
`;return e.currentMemory&&(t+=`- Think about the story behind this memory: "${e.currentMemory.prompt}"
`,t+=`- Remember key details from your response
`),t+=`- Take breaks when you need them
`,t+=`- Don't hesitate to ask for hints
`,{id:`scaffolding-${Date.now()}`,type:"memory_cue",content:t,level:"moderate",gameId:e.gameId}},Px=e=>{const t=e.agentProfile.currentAgentType;return e.streak>=3?{encourager:"You're on fire!  Keep that streak going!",instructor:"Excellent work! Your pattern recognition is improving.",coach:"That's a great streak! You're really getting the hang of this.",mentor:"Impressive consistency! Your focus is paying off."}[t]:e.mistakes>2?{encourager:"Mistakes are just learning opportunities! You've got this! ",instructor:"That's okay! Let's try a different approach.",coach:"Don't get discouraged! Even champions make mistakes.",mentor:"Errors are part of the learning process. Adjust and continue."}[t]:{encourager:"You're doing wonderfully! Keep up the great work! ",instructor:"Good progress! Let's keep building on what you've learned.",coach:"You're making solid progress. Stay focused!",mentor:"Your dedication is evident. Continue at your own pace."}[t]},Yu=({userId:e,gameId:t,difficulty:r,currentMemory:n})=>{const[s,i]=k.useState(null),[o,a]=k.useState(null),[l,u]=k.useState(!1),[c,d]=k.useState({userId:e,gameId:t,difficulty:r,currentTime:0,moves:0,mistakes:0,streak:0,currentMemory:n});k.useEffect(()=>{(async()=>{try{const f=await wx(e);i(f)}catch(f){console.error("Error initializing adaptive agent:",f)}})()},[e]),k.useEffect(()=>{var p;if(!s)return;const g={...c,agentProfile:s,userPerformanceHistory:s.performanceHistory,memoryStrength:s.memoryStrength},f=kx(g);a(f),(f.shouldProvideHint||f.shouldProvideScaffolding||f.agentMessage)&&((p=f.hint)!=null&&p.priority)&&f.hint.priority>=7&&u(!0)},[s,c]);const h=k.useCallback(()=>{u(!0)},[]),m=k.useCallback(()=>{u(!1)},[]),y=k.useCallback(()=>{if(!s)return;const g={...c,agentProfile:s,userPerformanceHistory:s.performanceHistory,memoryStrength:s.memoryStrength},f={shouldProvideHint:!0,shouldProvideScaffolding:!1,agentMessage:Px(g),agentType:s.currentAgentType};a(f),u(!0)},[s,c]),w=k.useCallback((g,f,p,S)=>{d(x=>({...x,moves:g,mistakes:f,streak:p,currentTime:S}))},[]),_=k.useCallback(async(g,f)=>{if(!s)return;const p={gameId:t,difficulty:r,completionTime:f,moves:c.moves,success:g,timestamp:new Date};try{const S=_x(s,p);i(S)}catch(S){console.error("Error updating agent profile:",S)}},[s,t,r,c.moves]);return{agentProfile:s,agentDecision:o,isVisible:l,showAgent:h,hideAgent:m,requestHint:y,updateGameProgress:w,recordGameCompletion:_}},Us=({hint:e,scaffolding:t,agentMessage:r,agentType:n="coach",isVisible:s,onDismiss:i,onRequestHint:o})=>{const[a,l]=k.useState(!1);if(k.useEffect(()=>{if(s){const d=setTimeout(()=>l(!0),100);return()=>clearTimeout(d)}else l(!1)},[s]),!s)return null;const u=()=>{switch(n){case"encourager":return v.jsx(tc,{className:"w-6 h-6 text-pink-500"});case"instructor":return v.jsx(Xu,{className:"w-6 h-6 text-blue-500"});case"coach":return v.jsx(ec,{className:"w-6 h-6 text-green-500"});case"mentor":return v.jsx(mm,{className:"w-6 h-6 text-purple-500"});default:return v.jsx(tc,{className:"w-6 h-6 text-orange-500"})}},c=()=>{switch(n){case"encourager":return"Helper";case"instructor":return"Guide";case"coach":return"Coach";case"mentor":return"Mentor";default:return"Agent"}};return v.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:v.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl border border-orange-100 overflow-hidden max-w-md mx-auto",children:[v.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-orange-100 to-amber-100",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[u(),v.jsx("span",{className:"font-bold text-gray-800",children:c()})]}),v.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:v.jsx(gm,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"p-4",children:a&&v.jsxs("div",{className:"animate-fadeIn",children:[r&&v.jsx("div",{className:"mb-3",children:v.jsx("p",{className:"text-gray-700",children:r})}),e&&v.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-xl",children:v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(Xu,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),v.jsx("p",{className:"text-blue-800",children:e.content})]})}),t&&v.jsx("div",{className:"mb-3 p-3 bg-green-50 rounded-xl",children:v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(ec,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),v.jsx("div",{children:v.jsx("p",{className:"text-green-800 whitespace-pre-line",children:t.content})})]})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:o,className:"flex-1 py-2 px-3 bg-gradient-to-r from-orange-500 to-rose-500 text-white rounded-xl font-medium text-sm shadow hover:shadow-md transition-all",children:"Need Help?"}),v.jsx("button",{onClick:i,className:"py-2 px-3 bg-white border border-orange-200 text-orange-600 rounded-xl font-medium text-sm shadow hover:bg-orange-50 transition-all",children:"Got It"})]})]})})]})})},jx=({onBack:e,memories:t=[],difficulty:r="medium"})=>{const n=zp(),s=t&&t.length>0?t[0]:void 0,{agentDecision:i,isVisible:o,hideAgent:a,requestHint:l,updateGameProgress:u,recordGameCompletion:c}=Yu({userId:"user123",gameId:"memory-match",difficulty:r,currentMemory:s}),d=k.useCallback(()=>{const M=yh(r,"memory-match");if(t&&t.length>0){const Z=t.slice(0,Math.min(3,Math.ceil(M.memoryWords/2))),G=[];Z.forEach(we=>{const hm=we.response.toLowerCase().split(" ").filter(fm=>fm.length>3).slice(0,Math.ceil(M.memoryWords/Z.length));G.push(...hm)});const te=[...new Set(G)].slice(0,M.memoryWords),Pe=[],mr=Math.min(M.pairs,te.length);for(let we=0;we<mr;we++)Pe.push({id:we*2,word:te[we],matched:!1,isPremium:!0}),Pe.push({id:we*2+1,word:te[we],matched:!1,isPremium:!0});return Pe}else{const Z=["memory","story","time","family","love","home","photo","music"],G=[],te=Math.min(M.pairs,Z.length);for(let Pe=0;Pe<te;Pe++)G.push({id:Pe*2,word:Z[Pe],matched:!1,isPremium:!1}),G.push({id:Pe*2+1,word:Z[Pe],matched:!1,isPremium:!1});return G}},[t,r]),[h,m]=k.useState([]),[y,w]=k.useState([]),[_,g]=k.useState(0),[f,p]=k.useState(0),[S,x]=k.useState(!1),[E,C]=k.useState(0),[I,F]=k.useState(!0),[D,de]=k.useState(!1),[$e,Ee]=k.useState(""),[rt,ee]=k.useState(""),[Ue,nt]=k.useState(0),[b,T]=k.useState(null),[j,N]=k.useState(3),[A,L]=k.useState(null),q=k.useCallback(()=>{const M=d(),Z=yh(r,"memory-match"),G=[...M].sort(()=>Math.random()-.5).map((te,Pe)=>({...te,id:Pe,flipped:!1}));m(G),w([]),g(0),p(0),C(0),nt(0),T(Z.timeLimit),N(Z.hintFrequency),F(!0),x(!1),de(!1),Ee("")},[d,r]);k.useEffect(()=>{q()},[q]),k.useEffect(()=>{let M=null;return I&&!S?M=setInterval(()=>{C(Z=>Z+1)},1e3):S&&M&&clearInterval(M),()=>{M&&clearInterval(M)}},[I,S]),k.useEffect(()=>{u(f,Ue,_,E)},[f,Ue,_,E,u]),k.useEffect(()=>{b&&E>=b&&I&&(F(!1),x(!0))},[E,b,I]),k.useEffect(()=>{const M=d();_===M.length/2&&M.length>0&&(F(!1),x(!0),y.length>=2&&ee(y[0].word),c(!0,E),(async()=>{try{const G=r==="hard"?30:r==="medium"?20:15,te=Math.max(0,100-E),Pe=Math.max(0,50-f),mr=r==="hard"?1.5:r==="medium"?1.2:1,we=Math.round((G+te+Pe)*mr);await yx("user123",{type:"game_completed",timestamp:new Date,value:we})}catch(G){console.error("Error updating memory strength:",G)}})())},[_,d,y,E,f,c]);const gr=M=>{if(M.flipped||M.matched||y.length===2)return;const Z=h.map(te=>te.id===M.id?{...te,flipped:!0}:te);m(Z);const G=[...y,M];if(w(G),G.length===2){p(f+1);const[te,Pe]=G;te.word===Pe.word?setTimeout(()=>{const mr=Z.map(we=>we.word===te.word?{...we,matched:!0}:we);m(mr),g(_+1),w([]),de(!1)},500):(nt(Ue+1),setTimeout(()=>{const mr=Z.map(we=>we.id===te.id||we.id===Pe.id?{...we,flipped:!1}:we);m(mr),w([]),(Ue+1)%j===0&&(Ee(te.word),de(!0),setTimeout(()=>de(!1),3e3))},1e3))}},dt=M=>{const Z=h.find(G=>G.id===M);Z!=null&&Z.audio&&(L(M),setTimeout(()=>L(null),2e3))},Ot=()=>{e?e():n("/games")},W=M=>{const Z=Math.floor(M/60),G=M%60;return`${Z.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},ye=M=>{if("speechSynthesis"in window){const Z=new SpeechSynthesisUtterance(M);Z.rate=.6,speechSynthesis.speak(Z)}},J=()=>{const Z=d().length/2,G=f/Z,te=E/Z;return r==="hard"?G<=1.5&&te<=15?"Exceptional performance! You mastered this advanced level with precision.":G<=2.5&&te<=30?"Great job! You handled the advanced level well.":"Good effort! Keep practicing to improve your skills at this level.":r==="medium"?G<=1.8&&te<=20?"Excellent work! You've got a strong grasp of this intermediate level.":G<=3&&te<=40?"Nice job! You completed the intermediate level successfully.":"Good attempt! With more practice, you'll master this level.":G<=2&&te<=25?"Well done! You completed the beginner level with ease.":G<=3.5&&te<=50?"Good job! You successfully completed the beginner level.":"Nice try! Keep practicing to improve your memory matching skills."},Me="grid gap-4 mb-6",Bt="aspect-square rounded-2xl flex items-center justify-center text-lg font-bold cursor-pointer transition-all duration-300 transform hover:scale-105 p-2 text-center",Mn=()=>{const Z=d().length;return Z<=8?"grid-cols-4":Z<=12?"grid-cols-4 sm:grid-cols-6":"grid-cols-4 sm:grid-cols-8"};return v.jsxs("div",{className:"pt-6",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("button",{onClick:Ot,className:"w-10 h-10 bg-white/80 backdrop-blur-xl rounded-2xl flex items-center justify-center shadow-lg border border-orange-100",children:v.jsx(vm,{className:"w-6 h-6 rotate-180 text-gray-700"})}),v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Memory Match-Up"}),v.jsxs("div",{className:"ml-auto flex items-center gap-1 bg-gradient-to-r from-amber-400 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[v.jsx(ym,{className:"w-4 h-4"}),"Premium"]})]}),v.jsx("div",{className:"text-center mb-6 animate-bounce",children:v.jsx("h2",{className:"text-xl font-bold text-orange-600",children:"Match Your Memories!"})}),S?v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-xl border border-orange-100 min-h-96 flex flex-col items-center justify-center",children:[i&&v.jsx(Us,{hint:i.hint,scaffolding:i.scaffolding,agentMessage:i.agentMessage,agentType:i.agentType,isVisible:o,onDismiss:a,onRequestHint:l}),v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"text-6xl animate-ping absolute inset-0 m-auto",children:""}),v.jsx("div",{className:"text-6xl relative",children:""})]}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Congratulations!"}),v.jsx("p",{className:"text-gray-600 mb-2",children:"You've matched all pairs!"}),v.jsxs("div",{className:"bg-orange-50 rounded-2xl p-4 my-6",children:[v.jsxs("p",{className:"text-orange-800 font-medium mb-2",children:[`"'`,rt,`' replayed"`]}),v.jsxs("button",{onClick:()=>ye(rt),className:"flex items-center justify-center gap-2 py-2 px-4 bg-orange-500 text-white rounded-xl mx-auto",children:[v.jsx(Mo,{className:"w-5 h-5"}),"Replay Word"]})]}),v.jsx("div",{className:"bg-orange-50 rounded-2xl p-4 my-6",children:v.jsxs("div",{className:"flex justify-around",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-orange-600",children:f}),v.jsx("p",{className:"text-sm text-gray-600",children:"Moves"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-rose-600",children:W(E)}),v.jsx("p",{className:"text-sm text-gray-600",children:"Time"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-amber-600",children:r.charAt(0).toUpperCase()+r.slice(1)}),v.jsx("p",{className:"text-sm text-gray-600",children:"Level"})]})]})}),v.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-4 my-6 border border-orange-200",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(wm,{className:"w-5 h-5 text-orange-600"}),v.jsx("h3",{className:"font-bold text-gray-800",children:"Performance Analysis"})]}),v.jsx("p",{className:"text-gray-600 text-sm",children:J()})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("button",{onClick:q,className:"py-3 px-6 bg-gradient-to-r from-orange-500 to-rose-500 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",children:"Play Again"}),v.jsx("button",{onClick:Ot,className:"py-3 px-6 bg-white border border-orange-200 text-orange-600 rounded-2xl font-semibold shadow-lg hover:bg-orange-50 transition-all",children:"Back to Games"})]})]})]}):v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 shadow-xl border border-orange-100",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("div",{className:"bg-orange-100 px-3 py-2 rounded-xl",children:v.jsxs("p",{className:"text-sm text-orange-800",children:["Moves: ",f]})}),v.jsx("div",{className:"bg-amber-100 px-3 py-2 rounded-xl",children:v.jsxs("p",{className:"text-sm text-amber-800",children:["Level: ",r.charAt(0).toUpperCase()+r.slice(1)]})})]}),v.jsxs("div",{className:"bg-rose-100 px-4 py-2 rounded-xl",children:[v.jsxs("p",{className:"text-sm text-rose-800",children:["Time: ",W(E)]}),b&&v.jsxs("p",{className:"text-xs text-rose-600",children:["Limit: ",W(b)]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:v.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-rose-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${_/(h.length/2)*100||0}%`}})}),v.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[v.jsx("span",{children:"Progress"}),v.jsxs("span",{children:[_," / ",h.length/2," pairs"]})]})]}),D&&v.jsx("div",{className:"mb-4 flex items-center justify-center",children:v.jsxs("div",{className:"bg-blue-100 rounded-2xl p-3 relative",children:[v.jsx("div",{className:"absolute -top-2 left-6 w-0 h-0 border-l-8 border-r-8 border-b-8 border-l-transparent border-r-transparent border-b-blue-100"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Mo,{className:"w-5 h-5 text-blue-600"}),v.jsxs("span",{className:"text-blue-800 font-medium",children:['Hint: "',$e,'"']})]})]})}),i&&v.jsx(Us,{hint:i.hint,scaffolding:i.scaffolding,agentMessage:i.agentMessage,agentType:i.agentType,isVisible:o,onDismiss:a,onRequestHint:l}),v.jsx("div",{className:`${Me} ${Mn()}`,children:h.map(M=>v.jsx("div",{onClick:()=>gr(M),className:`${Bt} ${M.flipped||M.matched?"bg-white shadow-lg":"bg-gradient-to-br from-orange-400 to-rose-400 shadow-lg"} ${M.matched?"ring-4 ring-green-400":""}`,children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{children:M.flipped||M.matched?M.word:"?"}),M.isPremium&&v.jsx("span",{className:"text-xs text-orange-700 mt-1",children:"Your Memory"}),M.flipped||M.matched?v.jsx("button",{onClick:Z=>{Z.stopPropagation(),dt(M.id)},className:`mt-2 p-1 rounded-full ${A===M.id?"bg-blue-500 text-white":"bg-white/30 text-white hover:bg-white/50"}`,children:v.jsx(Mo,{className:"w-4 h-4"})}):null]})},M.id))}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsxs("button",{onClick:q,className:"flex items-center gap-2 py-3 px-6 bg-gradient-to-r from-orange-500 to-rose-500 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",children:[v.jsx(_h,{className:"w-5 h-5"}),"Reset Game"]})})]})]})},Vx=Object.freeze(Object.defineProperty({__proto__:null,default:jx},Symbol.toStringTag,{value:"Module"})),Ox=({onBack:e,onNavigate:t})=>{const{user:r}=dm(),{state:n}=Vl(),s=n.memories[0],i="medium",[o,a]=k.useState(0),[l,u]=k.useState(null),[c,d]=k.useState(!1),[h,m]=k.useState(0),[y,w]=k.useState(30),[_,g]=k.useState(0),[f,p]=k.useState(0),[S,x]=k.useState(!1),[E,C]=k.useState(""),{agentDecision:I,isVisible:F,showAgent:D,hideAgent:de,requestHint:$e,updateGameProgress:Ee,recordGameCompletion:rt}=Yu({userId:(r==null?void 0:r.id)||"guest",gameId:"story-quiz-quest-1",difficulty:i,currentMemory:s}),ee=[{question:"In the story about grandmother's recipe book, who was the main character?",options:["The grandmother","The grandchild","The neighbor","The chef"],correct:0,story:"Once upon a time, there was a grandmother who kept all her special recipes in a beautiful old book..."},{question:"Where did the family gather for the important celebration?",options:["At the park","In the backyard","At grandmother's house","At the restaurant"],correct:2,story:"The family always gathered at grandmother's house for special celebrations..."},{question:"What special tradition did the family follow?",options:["Morning walks","Storytelling after dinner","Cooking together","Gardening"],correct:1,story:"After every family dinner, they would sit together and share stories from the past..."},{question:"What was the most cherished item passed down through generations?",options:["A photo album","Grandmother's recipe book","An old quilt","A music box"],correct:1,story:"The most precious item in the family was grandmother's recipe book, filled with handwritten recipes..."},{question:"How did the family preserve their memories?",options:["Through photographs","Through storytelling","Through cooking","All of the above"],correct:3,story:"The family preserved their memories through photographs, stories, and cooking together..."}];k.useEffect(()=>{let N;return y>0&&!c&&!S?N=setTimeout(()=>w(A=>A-1),1e3):y===0&&!c&&Ue(),()=>clearTimeout(N)},[y,c,S]);const Ue=k.useCallback(()=>{g(N=>N+1),p(0),C("Time's up! The story detail faded away."),x(!0),setTimeout(()=>{o<ee.length-1?(a(N=>N+1),u(null),w(30),x(!1)):(d(!0),x(!1),rt(h>=ee.length*.7,Date.now()),r!=null&&r.id&&go(r.id,h*10))},2e3)},[o,ee.length,h,rt,r==null?void 0:r.id]),nt=N=>{l!==null||S||u(N)},b=()=>{const N=l===ee[o].correct;N?(m(A=>A+1),p(A=>A+1),C("Perfect! You remembered that story detail.")):(g(A=>A+1),p(0),C("Not quite right. Let's try the next question.")),x(!0),D(),setTimeout(()=>{if(o<ee.length-1)a(A=>A+1),u(null),w(30),x(!1);else{d(!0),x(!1);const A=N?h+1:h;rt(A>=ee.length*.7,Date.now()),r!=null&&r.id&&go(r.id,A*10)}},2e3)},T=()=>{t("story-quiz-quest-2")};k.useEffect(()=>{c||Ee(o,_,f,y)},[o,_,f,y,c,Ee]);const j=()=>v.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-2 shadow-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[v.jsx(bh,{className:"w-3 h-3 text-yellow-500"}),v.jsx("span",{className:"text-xs font-bold text-gray-800",children:"Score"})]}),v.jsx("span",{className:"text-sm font-bold text-gray-800",children:h})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-2 shadow-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[v.jsx(Sm,{className:"w-3 h-3 text-green-500"}),v.jsx("span",{className:"text-xs font-bold text-gray-800",children:"Streak"})]}),v.jsx("span",{className:"text-sm font-bold text-gray-800",children:f})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-2 shadow-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[v.jsx(xa,{className:"w-3 h-3 text-orange-500"}),v.jsx("span",{className:"text-xs font-bold text-gray-800",children:"Time"})]}),v.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[y,"s"]})]})]});return c?v.jsxs("div",{className:"flex flex-col min-h-screen justify-between bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 font-display",children:[v.jsxs("main",{className:"flex-grow",children:[v.jsxs("header",{className:"flex items-center p-4",children:[v.jsx("button",{className:"w-10 h-10 bg-white/80 backdrop-blur-xl rounded-2xl flex items-center justify-center shadow-lg border border-orange-100",onClick:e,children:v.jsx(Ea,{className:"w-6 h-6 text-gray-700"})}),v.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-10 text-gray-800",children:"Story Quiz Quest"})]}),v.jsx(j,{}),v.jsx("div",{className:"px-4 py-6",children:v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-orange-100 p-6 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[v.jsx(_m,{className:"w-8 h-8 text-orange-500"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Story Quest Complete!"})]}),v.jsxs("div",{className:"text-5xl font-bold mb-4 text-orange-500",children:[h,"/",ee.length]}),v.jsx("p",{className:"mb-6 text-gray-700",children:h===ee.length?"Perfect! You remembered every detail of the story.":h>=ee.length*.8?"Excellent! You have a strong memory for stories.":h>=ee.length*.6?"Good job! You remembered most of the story details.":"Keep practicing to strengthen your story memory!"}),v.jsx("button",{className:"bg-gradient-to-r from-orange-500 to-rose-500 text-white font-bold py-3 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all",onClick:T,children:"Continue to Quest 2"})]})})]}),I&&v.jsx(Us,{hint:I.hint,scaffolding:I.scaffolding,agentMessage:I.agentMessage,agentType:I.agentType,isVisible:F,onDismiss:de,onRequestHint:$e})]}):v.jsxs("div",{className:"flex flex-col min-h-screen justify-between bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 font-display",children:[v.jsxs("main",{className:"flex-grow",children:[v.jsxs("header",{className:"flex items-center p-4",children:[v.jsx("button",{className:"w-10 h-10 bg-white/80 backdrop-blur-xl rounded-2xl flex items-center justify-center shadow-lg border border-orange-100",onClick:e,children:v.jsx(Ea,{className:"w-6 h-6 text-gray-700"})}),v.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-10 text-gray-800",children:"Story Quiz Quest"})]}),v.jsx(j,{}),v.jsx("div",{className:"px-4 py-6",children:v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("span",{className:"text-lg font-medium text-gray-800",children:["Question ",o+1,"/",ee.length]}),v.jsxs("span",{className:"text-lg font-medium text-gray-800",children:["Progress: ",h,"/",o+(l!==null?1:0)]})]}),v.jsx("div",{className:"bg-orange-200 h-2.5 rounded-full mb-6",children:v.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-rose-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${(o+1)/ee.length*100}%`}})}),S&&v.jsx("div",{className:`mb-4 p-4 rounded-2xl text-center ${E.includes("Perfect")?"bg-green-100":"bg-red-100"}`,children:v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.includes("Perfect")?v.jsx(Sh,{className:"w-6 h-6 text-green-600"}):E.includes("Time")?v.jsx(xa,{className:"w-6 h-6 text-orange-600"}):v.jsx(kh,{className:"w-6 h-6 text-red-600"}),v.jsx("span",{className:E.includes("Perfect")?"text-green-800":"text-red-800",children:E})]})}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-orange-100 p-6",children:[ee[o].story&&v.jsx("div",{className:"mb-4 p-3 bg-orange-50 rounded-xl",children:v.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',ee[o].story,'"']})}),v.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:ee[o].question}),v.jsx("div",{className:"space-y-4",children:ee[o].options.map((N,A)=>v.jsx("button",{className:`w-full text-left p-4 rounded-2xl border-2 transition-colors shadow-lg ${l===A?"bg-gradient-to-r from-orange-100 to-amber-100 border-orange-500 text-orange-700":l!==null?"bg-gray-100 border-gray-300 text-gray-500 cursor-not-allowed":"bg-white/80 backdrop-blur-xl border-orange-200 text-gray-800 hover:bg-orange-50"} ${S?"cursor-not-allowed":""}`,onClick:()=>nt(A),disabled:l!==null||S,children:N},A))}),v.jsx("button",{className:`mt-6 w-full py-4 px-4 rounded-2xl font-bold shadow-lg hover:shadow-xl transition-all ${l!==null&&!S?"bg-gradient-to-r from-orange-500 to-rose-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:l===null||S,onClick:b,children:o<ee.length-1?"Next Question":"Complete Quest"})]})]})})]}),I&&v.jsx(Us,{hint:I.hint,scaffolding:I.scaffolding,agentMessage:I.agentMessage,agentType:I.agentType,isVisible:F,onDismiss:de,onRequestHint:$e})]})},Cx=k.memo(Ox),Wx=Object.freeze(Object.defineProperty({__proto__:null,default:Cx},Symbol.toStringTag,{value:"Module"})),Ax=({onBack:e})=>{const{user:t}=dm(),{state:r}=Vl(),n=r.memories[0],s="medium",[i,o]=k.useState("ready"),[a,l]=k.useState([]),[u,c]=k.useState([]),[d,h]=k.useState([]),[m,y]=k.useState(null),[w,_]=k.useState(180),[g,f]=k.useState(0),[p,S]=k.useState(1),[x,E]=k.useState(0),[C,I]=k.useState(0),[F,D]=k.useState(!1),[de,$e]=k.useState(""),{agentDecision:Ee,isVisible:rt,showAgent:ee,hideAgent:Ue,requestHint:nt,updateGameProgress:b,recordGameCompletion:T}=Yu({userId:(t==null?void 0:t.id)||"guest",gameId:"timeline-tango",difficulty:s,currentMemory:n}),j=k.useCallback(()=>{const W=[{id:"graduation",year:1985,title:"High School Graduation",description:"Completed high school education",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBUaWsiKv02tYSin77lYxrXoTZjxcGjRHbAVPmn0QMlstnatKrbd3DEw20cg_5dZtUulHp5IMAR0u7tKNuJbPijANt9aZszzFzXjSB0iOlPhh3B_Lr0OjMzH4IZdjpVv9mTv-Z6ssaSqAhjjXDH3nanuOAHRP7l4aRvR5wRPvu5DwsIuGeuucyilR33L17a0dScMZYdIbgOZyNPuTA15Lt-GSAGf6JiuTMTtJHi1pld0BzOqPsjFEz0iYbePCHNwjTNfkC07B7gIQw",category:"milestone"},{id:"wedding",year:1992,title:"Wedding Day",description:"Married the love of my life",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuDulxaiopxVIgV472gcdR09Tw9bD4UlMjSia1ZiuWEHSqmeBBiThlmDGbjsW9_G9aAdpa3RE6XQM-SHn63MqmBVI_RVwRNHglpZ6pOPlN0wfnW1jX5QFSt7_h54LPdWTj28uwMMNCKDHt_8B5sjotIHkFHosol16ecRQ6Vh6p3S4rL17IhW7d1hGgCu4kPl8kUyuLEgxmRNFp_soDVVPZzyMcZmNTmV9EHYcc10rX-G91GzxDHAAWEGLOnj_uvpXz5PVf6lUdGlUgc",category:"personal"},{id:"first-child",year:1995,title:"First Child Born",description:"Welcomed our first baby into the world",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuB19zwxfoOPthsaPBcAeQ6eJkkPiIAylokRTpufXp6r-4wYeErA1UICX1Nejhe294or8QBUuo_1DgoaRL23w998kvlTT1qmrCrmbrpF7f3Z00XCHwClHiOu-5wgH2_fPmTVZe48H6FalZakdIlrkbzU5nFBkicJtl3DCQuMSeQKxapT5VCRKflSZhTuBeDXJ61eXzldQBPVwcL8-0A3mPG_STd-KspeYGjvmQYKsg6jWNdDysHUYVQ7lksUTfqmoINzzW6Vnqwa45k",category:"family"},{id:"career-change",year:2002,title:"Career Change",description:"Started a new career path",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAW5uq67oHgV0c-nVdjpjZFzCjmUPPNM_dv5IaKQ0Wb-b8aA6PdCQYteswBTcrV82m_v_q3bteVPp3ivnNczSesi30vaAeaHIyhe8SLSwQ6X91AQvMgNPUM1pDlLbedg3eI7zUzjZPMSWE7otFI8LCUN73c3GkqsMzj_-hxarueKAnapzveHWmcrAtLh9ZTRuuuVtzVyCIbzhFo6lnw8yOuA_1if5ogjYCCcO2Rt3T6s89eKS83pjl4b993Mr3OhGYu4OT2M9GF67g",category:"career"},{id:"retirement",year:2018,title:"Retirement",description:"Retired after 35 years of dedicated service",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuDb6xiq3VcsWTuZSsFt0dxNnZH0RLQgqo9r9WJwIGXxR7g8KOY-vWGreLg7YrHApB3lY-Xsn3EHHzc2ars73kaPyQ7ttjHPGcoDKnr8mZDZTAksddDZk808_RasLIMIqqEK270yNmQLlD_LD_AxuLGeJx4B5cf4pSWQPrObG_mDs4REvURinbTx5W_e7oIO9PlXqwuMY0osNfgjAWvVgmQ2huHPZPA2dRfgR4q-v_OSoQlSdOsSF8e58f-6DNKaB45kFH3mTjnMyzU",category:"milestone"}],ye=Math.min(3+p,W.length),J=W.slice(0,ye);l(J),c([...J].sort(()=>Math.random()-.5)),h([])},[p]);k.useEffect(()=>{if(i!=="sorting"||w<=0)return;const W=setInterval(()=>{_(ye=>ye<=1?(o("failed"),E(J=>J+1),$e("Time's up! The timeline faded away."),D(!0),ee(),T(!1,Date.now()),0):ye-1)},1e3);return()=>clearInterval(W)},[i,w,T,ee]),k.useEffect(()=>{i==="sorting"&&b(C,x,d.length,w)},[C,x,d.length,w,i,b]);const N=k.useCallback(()=>{if(d.length!==a.length)return!1;for(let W=0;W<d.length-1;W++)if(d[W].year>d[W+1].year)return!1;return!0},[d,a]),A=(W,ye)=>{if(i!=="sorting")return;const J=d.findIndex(Mn=>Mn.id===W);if(J===-1)return;const Me=[...d],Bt=ye==="up"?J-1:J+1;Bt>=0&&Bt<Me.length&&([Me[J],Me[Bt]]=[Me[Bt],Me[J]],h(Me),I(Mn=>Mn+1))},L=W=>{if(i!=="sorting")return;const ye=u.find(J=>J.id===W);ye&&(c(J=>J.filter(Me=>Me.id!==W)),h(J=>[...J,ye]),I(J=>J+1))},q=()=>{const W=N();if(D(!0),W){o("success");const ye=Math.floor(w/10),J=Math.max(0,a.length*10-C),Me=a.length*20+ye+J;f(Bt=>Bt+Me),$e(`Perfect! You arranged the timeline correctly! +${Me} points`),T(!0,Date.now()),t!=null&&t.id&&go(t.id,g+Me),setTimeout(()=>{e()},3e3)}else E(ye=>ye+1),$e("Not quite right. Check the chronological order again."),setTimeout(()=>D(!1),2e3)},gr=()=>{o("sorting"),_(180),f(0),I(0),E(0),j()},dt=()=>{o("ready"),_(180),f(0),I(0),E(0),c([]),h([]),y(null),D(!1),Ue()},Ot=()=>v.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-6",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-2 shadow-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[v.jsx(bh,{className:"w-3 h-3 text-yellow-500"}),v.jsx("span",{className:"text-xs font-bold text-gray-800",children:"Score"})]}),v.jsx("span",{className:"text-sm font-bold text-gray-800",children:g})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-2 shadow-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[v.jsx(Em,{className:"w-3 h-3 text-blue-500"}),v.jsx("span",{className:"text-xs font-bold text-gray-800",children:"Level"})]}),v.jsx("span",{className:"text-sm font-bold text-gray-800",children:p})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-2 shadow-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[v.jsx(_h,{className:"w-3 h-3 text-green-500"}),v.jsx("span",{className:"text-xs font-bold text-gray-800",children:"Moves"})]}),v.jsx("span",{className:"text-sm font-bold text-gray-800",children:C})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-2 shadow-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[v.jsx(xa,{className:"w-3 h-3 text-orange-500"}),v.jsx("span",{className:"text-xs font-bold text-gray-800",children:"Time"})]}),v.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[Math.floor(w/60),":",(w%60).toString().padStart(2,"0")]})]})]});return v.jsxs("div",{className:"flex flex-col min-h-screen justify-between bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 font-display",children:[v.jsxs("main",{className:"flex-grow",children:[v.jsxs("header",{className:"flex items-center p-4",children:[v.jsx("button",{className:"w-10 h-10 bg-white/80 backdrop-blur-xl rounded-2xl flex items-center justify-center shadow-lg border border-orange-100",onClick:e,children:v.jsx(Ea,{className:"w-6 h-6 text-gray-700"})}),v.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-10 text-gray-800",children:"Timeline Tango"})]}),v.jsx(Ot,{}),v.jsx("div",{className:"px-4 py-6",children:v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Arrange the Timeline"}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-orange-100 p-6 mb-6",children:[i==="ready"&&v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[v.jsx(rc,{className:"w-8 h-8 text-orange-500"}),v.jsx("span",{className:"text-lg text-gray-600",children:"Organize life events in chronological order"})]}),v.jsx("button",{onClick:gr,className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-rose-500 text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all",children:"Start Timeline"})]}),(i==="sorting"||i==="success"||i==="failed")&&v.jsxs("div",{children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-lg font-bold mb-3 text-gray-800",children:"Available Events:"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:u.map(W=>v.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-3 cursor-pointer hover:bg-orange-100 transition-colors",onClick:()=>L(W.id),children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(rc,{className:"w-4 h-4 text-orange-500"}),v.jsx("span",{className:"font-bold text-gray-800",children:W.year})]}),v.jsx("h4",{className:"font-medium text-gray-700 mb-1",children:W.title}),v.jsx("p",{className:"text-sm text-gray-600",children:W.description})]},W.id))})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-lg font-bold mb-3 text-gray-800",children:"Your Timeline:"}),v.jsx("div",{className:"space-y-3",children:d.map((W,ye)=>v.jsx("div",{className:`bg-white border-2 rounded-xl p-4 shadow-sm ${m===W.id?"border-orange-500 bg-orange-50":"border-gray-200"}`,onClick:()=>y(W.id),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:ye+1}),v.jsxs("div",{children:[v.jsxs("div",{className:"font-bold text-gray-800",children:[W.year," - ",W.title]}),v.jsx("div",{className:"text-sm text-gray-600",children:W.description})]})]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{onClick:J=>{J.stopPropagation(),A(W.id,"up")},disabled:ye===0,className:"p-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50",children:v.jsx(km,{className:"w-4 h-4"})}),v.jsx("button",{onClick:J=>{J.stopPropagation(),A(W.id,"down")},disabled:ye===d.length-1,className:"p-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50",children:v.jsx(bm,{className:"w-4 h-4"})})]})]})},W.id))})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Events Organized: ",d.length," / ",a.length]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:v.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-rose-500 h-2 rounded-full transition-all duration-500",style:{width:`${d.length/a.length*100}%`}})})]}),F&&v.jsx("div",{className:`mb-4 p-4 rounded-2xl text-center ${i==="success"?"bg-green-100":i==="failed"?"bg-red-100":"bg-blue-100"}`,children:v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i==="success"?v.jsx(Sh,{className:"w-6 h-6 text-green-600"}):i==="failed"?v.jsx(kh,{className:"w-6 h-6 text-red-600"}):null,v.jsx("span",{className:i==="success"?"text-green-800":i==="failed"?"text-red-800":"text-orange-800",children:de})]})}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:q,disabled:d.length!==a.length||i!=="sorting",className:`px-8 py-3 font-bold rounded-2xl shadow-lg transition-all ${d.length===a.length&&i==="sorting"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Check Timeline Order"})})]})]}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:dt,className:"px-6 py-2 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all",children:"Reset Game"})})]})})]}),Ee&&v.jsx(Us,{hint:Ee.hint,scaffolding:Ee.scaffolding,agentMessage:Ee.agentMessage,agentType:Ee.agentType,isVisible:rt,onDismiss:Ue,onRequestHint:nt})]})},Zx=Object.freeze(Object.defineProperty({__proto__:null,default:Ax},Symbol.toStringTag,{value:"Module"}));export{Fx as A,zx as B,Vx as M,Rx as N,$x as R,Wx as S,Zx as T,zn as _,dm as a,$u as b,v0 as c,Do as e,Ix as r,zp as u};
//# sourceMappingURL=game-components-Cb-CYX2n.js.map
